<style> code { white-space: pre-wrap; display: block; background-color: #eee; }.executed { background-color: #afa; }.reverted { background-color: #ffa; }.unexecuted { background-color: #faa; }.neutral { background-color: #eee; }</style><b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/openzeppelin-contracts/contracts/access/Ownable.sol</b>
<code>
   1 |     | <span class='unexecuted'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (access/Ownable.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>import {Context} from &quot;../utils/Context.sol&quot;;</span>
   7 |     | <span class='neutral'></span>
   8 |     | <span class='neutral'>/**</span>
   9 |     | <span class='neutral'> * @dev Contract module which provides a basic access control mechanism, where</span>
  10 |     | <span class='neutral'> * there is an account (an owner) that can be granted exclusive access to</span>
  11 |     | <span class='neutral'> * specific functions.</span>
  12 |     | <span class='neutral'> *</span>
  13 |     | <span class='neutral'> * The initial owner is set to the address provided by the deployer. This can</span>
  14 |     | <span class='neutral'> * later be changed with {transferOwnership}.</span>
  15 |     | <span class='neutral'> *</span>
  16 |     | <span class='neutral'> * This module is used through inheritance. It will make available the modifier</span>
  17 |     | <span class='neutral'> * `onlyOwner`, which can be applied to your functions to restrict their use to</span>
  18 |     | <span class='neutral'> * the owner.</span>
  19 |     | <span class='neutral'> */</span>
  20 |     | <span class='neutral'>abstract contract Ownable is Context {</span>
  21 |     | <span class='neutral'>    address private _owner;</span>
  22 |     | <span class='neutral'></span>
  23 |     | <span class='neutral'>    /**</span>
  24 |     | <span class='neutral'>     * @dev The caller account is not authorized to perform an operation.</span>
  25 |     | <span class='neutral'>     */</span>
  26 |     | <span class='neutral'>    error OwnableUnauthorizedAccount(address account);</span>
  27 |     | <span class='neutral'></span>
  28 |     | <span class='neutral'>    /**</span>
  29 |     | <span class='neutral'>     * @dev The owner is not a valid owner account. (eg. `address(0)`)</span>
  30 |     | <span class='neutral'>     */</span>
  31 |     | <span class='neutral'>    error OwnableInvalidOwner(address owner);</span>
  32 |     | <span class='neutral'></span>
  33 |     | <span class='neutral'>    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);</span>
  34 |     | <span class='neutral'></span>
  35 |     | <span class='neutral'>    /**</span>
  36 |     | <span class='neutral'>     * @dev Initializes the contract setting the address provided by the deployer as the initial owner.</span>
  37 |     | <span class='neutral'>     */</span>
  38 |     | <span class='neutral'>    constructor(address initialOwner) {</span>
  39 |     | <span class='neutral'>        if (initialOwner == address(0)) {</span>
  40 |     | <span class='neutral'>            revert OwnableInvalidOwner(address(0));</span>
  41 |     | <span class='neutral'>        }</span>
  42 |     | <span class='neutral'>        _transferOwnership(initialOwner);</span>
  43 |     | <span class='neutral'>    }</span>
  44 |     | <span class='neutral'></span>
  45 |     | <span class='neutral'>    /**</span>
  46 |     | <span class='neutral'>     * @dev Throws if called by any account other than the owner.</span>
  47 |     | <span class='neutral'>     */</span>
  48 |     | <span class='neutral'>    modifier onlyOwner() {</span>
  49 |     | <span class='neutral'>        _checkOwner();</span>
  50 |     | <span class='neutral'>        _;</span>
  51 |     | <span class='neutral'>    }</span>
  52 |     | <span class='neutral'></span>
  53 |     | <span class='neutral'>    /**</span>
  54 |     | <span class='neutral'>     * @dev Returns the address of the current owner.</span>
  55 |     | <span class='neutral'>     */</span>
  56 |     | <span class='neutral'>    function owner() public view virtual returns (address) {</span>
  57 |     | <span class='neutral'>        return _owner;</span>
  58 |     | <span class='neutral'>    }</span>
  59 |     | <span class='neutral'></span>
  60 |     | <span class='neutral'>    /**</span>
  61 |     | <span class='neutral'>     * @dev Throws if the sender is not the owner.</span>
  62 |     | <span class='neutral'>     */</span>
  63 |     | <span class='neutral'>    function _checkOwner() internal view virtual {</span>
  64 |     | <span class='neutral'>        if (owner() != _msgSender()) {</span>
  65 |     | <span class='neutral'>            revert OwnableUnauthorizedAccount(_msgSender());</span>
  66 |     | <span class='neutral'>        }</span>
  67 |     | <span class='neutral'>    }</span>
  68 |     | <span class='neutral'></span>
  69 |     | <span class='neutral'>    /**</span>
  70 |     | <span class='neutral'>     * @dev Leaves the contract without owner. It will not be possible to call</span>
  71 |     | <span class='neutral'>     * `onlyOwner` functions. Can only be called by the current owner.</span>
  72 |     | <span class='neutral'>     *</span>
  73 |     | <span class='neutral'>     * NOTE: Renouncing ownership will leave the contract without an owner,</span>
  74 |     | <span class='neutral'>     * thereby disabling any functionality that is only available to the owner.</span>
  75 |     | <span class='neutral'>     */</span>
  76 |     | <span class='neutral'>    function renounceOwnership() public virtual onlyOwner {</span>
  77 |     | <span class='neutral'>        _transferOwnership(address(0));</span>
  78 |     | <span class='neutral'>    }</span>
  79 |     | <span class='neutral'></span>
  80 |     | <span class='neutral'>    /**</span>
  81 |     | <span class='neutral'>     * @dev Transfers ownership of the contract to a new account (`newOwner`).</span>
  82 |     | <span class='neutral'>     * Can only be called by the current owner.</span>
  83 |     | <span class='neutral'>     */</span>
  84 |     | <span class='neutral'>    function transferOwnership(address newOwner) public virtual onlyOwner {</span>
  85 |     | <span class='neutral'>        if (newOwner == address(0)) {</span>
  86 |     | <span class='neutral'>            revert OwnableInvalidOwner(address(0));</span>
  87 |     | <span class='neutral'>        }</span>
  88 |     | <span class='neutral'>        _transferOwnership(newOwner);</span>
  89 |     | <span class='neutral'>    }</span>
  90 |     | <span class='neutral'></span>
  91 |     | <span class='neutral'>    /**</span>
  92 |     | <span class='neutral'>     * @dev Transfers ownership of the contract to a new account (`newOwner`).</span>
  93 |     | <span class='neutral'>     * Internal function without access restriction.</span>
  94 |     | <span class='neutral'>     */</span>
  95 |     | <span class='neutral'>    function _transferOwnership(address newOwner) internal virtual {</span>
  96 |     | <span class='neutral'>        address oldOwner = _owner;</span>
  97 |     | <span class='neutral'>        _owner = newOwner;</span>
  98 |     | <span class='neutral'>        emit OwnershipTransferred(oldOwner, newOwner);</span>
  99 |     | <span class='neutral'>    }</span>
 100 |     | <span class='neutral'>}</span>
 101 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/openzeppelin-contracts/contracts/interfaces/draft-IERC6093.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.1.0) (interfaces/draft-IERC6093.sol)</span>
   3 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   4 |     | <span class='neutral'></span>
   5 |     | <span class='neutral'>/**</span>
   6 |     | <span class='neutral'> * @dev Standard ERC-20 Errors</span>
   7 |     | <span class='neutral'> * Interface of the https://eips.ethereum.org/EIPS/eip-6093[ERC-6093] custom errors for ERC-20 tokens.</span>
   8 |     | <span class='neutral'> */</span>
   9 |     | <span class='neutral'>interface IERC20Errors {</span>
  10 |     | <span class='neutral'>    /**</span>
  11 |     | <span class='neutral'>     * @dev Indicates an error related to the current `balance` of a `sender`. Used in transfers.</span>
  12 |     | <span class='neutral'>     * @param sender Address whose tokens are being transferred.</span>
  13 |     | <span class='neutral'>     * @param balance Current balance for the interacting account.</span>
  14 |     | <span class='neutral'>     * @param needed Minimum amount required to perform a transfer.</span>
  15 |     | <span class='neutral'>     */</span>
  16 |     | <span class='neutral'>    error ERC20InsufficientBalance(address sender, uint256 balance, uint256 needed);</span>
  17 |     | <span class='neutral'></span>
  18 |     | <span class='neutral'>    /**</span>
  19 |     | <span class='neutral'>     * @dev Indicates a failure with the token `sender`. Used in transfers.</span>
  20 |     | <span class='neutral'>     * @param sender Address whose tokens are being transferred.</span>
  21 |     | <span class='neutral'>     */</span>
  22 |     | <span class='neutral'>    error ERC20InvalidSender(address sender);</span>
  23 |     | <span class='neutral'></span>
  24 |     | <span class='neutral'>    /**</span>
  25 |     | <span class='neutral'>     * @dev Indicates a failure with the token `receiver`. Used in transfers.</span>
  26 |     | <span class='neutral'>     * @param receiver Address to which tokens are being transferred.</span>
  27 |     | <span class='neutral'>     */</span>
  28 |     | <span class='neutral'>    error ERC20InvalidReceiver(address receiver);</span>
  29 |     | <span class='neutral'></span>
  30 |     | <span class='neutral'>    /**</span>
  31 |     | <span class='neutral'>     * @dev Indicates a failure with the `spender`’s `allowance`. Used in transfers.</span>
  32 |     | <span class='neutral'>     * @param spender Address that may be allowed to operate on tokens without being their owner.</span>
  33 |     | <span class='neutral'>     * @param allowance Amount of tokens a `spender` is allowed to operate with.</span>
  34 |     | <span class='neutral'>     * @param needed Minimum amount required to perform a transfer.</span>
  35 |     | <span class='neutral'>     */</span>
  36 |     | <span class='neutral'>    error ERC20InsufficientAllowance(address spender, uint256 allowance, uint256 needed);</span>
  37 |     | <span class='neutral'></span>
  38 |     | <span class='neutral'>    /**</span>
  39 |     | <span class='neutral'>     * @dev Indicates a failure with the `approver` of a token to be approved. Used in approvals.</span>
  40 |     | <span class='neutral'>     * @param approver Address initiating an approval operation.</span>
  41 |     | <span class='neutral'>     */</span>
  42 |     | <span class='neutral'>    error ERC20InvalidApprover(address approver);</span>
  43 |     | <span class='neutral'></span>
  44 |     | <span class='neutral'>    /**</span>
  45 |     | <span class='neutral'>     * @dev Indicates a failure with the `spender` to be approved. Used in approvals.</span>
  46 |     | <span class='neutral'>     * @param spender Address that may be allowed to operate on tokens without being their owner.</span>
  47 |     | <span class='neutral'>     */</span>
  48 |     | <span class='neutral'>    error ERC20InvalidSpender(address spender);</span>
  49 |     | <span class='neutral'>}</span>
  50 |     | <span class='neutral'></span>
  51 |     | <span class='neutral'>/**</span>
  52 |     | <span class='neutral'> * @dev Standard ERC-721 Errors</span>
  53 |     | <span class='neutral'> * Interface of the https://eips.ethereum.org/EIPS/eip-6093[ERC-6093] custom errors for ERC-721 tokens.</span>
  54 |     | <span class='neutral'> */</span>
  55 |     | <span class='neutral'>interface IERC721Errors {</span>
  56 |     | <span class='neutral'>    /**</span>
  57 |     | <span class='neutral'>     * @dev Indicates that an address can&#39;t be an owner. For example, `address(0)` is a forbidden owner in ERC-20.</span>
  58 |     | <span class='neutral'>     * Used in balance queries.</span>
  59 |     | <span class='neutral'>     * @param owner Address of the current owner of a token.</span>
  60 |     | <span class='neutral'>     */</span>
  61 |     | <span class='neutral'>    error ERC721InvalidOwner(address owner);</span>
  62 |     | <span class='neutral'></span>
  63 |     | <span class='neutral'>    /**</span>
  64 |     | <span class='neutral'>     * @dev Indicates a `tokenId` whose `owner` is the zero address.</span>
  65 |     | <span class='neutral'>     * @param tokenId Identifier number of a token.</span>
  66 |     | <span class='neutral'>     */</span>
  67 |     | <span class='neutral'>    error ERC721NonexistentToken(uint256 tokenId);</span>
  68 |     | <span class='neutral'></span>
  69 |     | <span class='neutral'>    /**</span>
  70 |     | <span class='neutral'>     * @dev Indicates an error related to the ownership over a particular token. Used in transfers.</span>
  71 |     | <span class='neutral'>     * @param sender Address whose tokens are being transferred.</span>
  72 |     | <span class='neutral'>     * @param tokenId Identifier number of a token.</span>
  73 |     | <span class='neutral'>     * @param owner Address of the current owner of a token.</span>
  74 |     | <span class='neutral'>     */</span>
  75 |     | <span class='neutral'>    error ERC721IncorrectOwner(address sender, uint256 tokenId, address owner);</span>
  76 |     | <span class='neutral'></span>
  77 |     | <span class='neutral'>    /**</span>
  78 |     | <span class='neutral'>     * @dev Indicates a failure with the token `sender`. Used in transfers.</span>
  79 |     | <span class='neutral'>     * @param sender Address whose tokens are being transferred.</span>
  80 |     | <span class='neutral'>     */</span>
  81 |     | <span class='neutral'>    error ERC721InvalidSender(address sender);</span>
  82 |     | <span class='neutral'></span>
  83 |     | <span class='neutral'>    /**</span>
  84 |     | <span class='neutral'>     * @dev Indicates a failure with the token `receiver`. Used in transfers.</span>
  85 |     | <span class='neutral'>     * @param receiver Address to which tokens are being transferred.</span>
  86 |     | <span class='neutral'>     */</span>
  87 |     | <span class='neutral'>    error ERC721InvalidReceiver(address receiver);</span>
  88 |     | <span class='neutral'></span>
  89 |     | <span class='neutral'>    /**</span>
  90 |     | <span class='neutral'>     * @dev Indicates a failure with the `operator`’s approval. Used in transfers.</span>
  91 |     | <span class='neutral'>     * @param operator Address that may be allowed to operate on tokens without being their owner.</span>
  92 |     | <span class='neutral'>     * @param tokenId Identifier number of a token.</span>
  93 |     | <span class='neutral'>     */</span>
  94 |     | <span class='neutral'>    error ERC721InsufficientApproval(address operator, uint256 tokenId);</span>
  95 |     | <span class='neutral'></span>
  96 |     | <span class='neutral'>    /**</span>
  97 |     | <span class='neutral'>     * @dev Indicates a failure with the `approver` of a token to be approved. Used in approvals.</span>
  98 |     | <span class='neutral'>     * @param approver Address initiating an approval operation.</span>
  99 |     | <span class='neutral'>     */</span>
 100 |     | <span class='neutral'>    error ERC721InvalidApprover(address approver);</span>
 101 |     | <span class='neutral'></span>
 102 |     | <span class='neutral'>    /**</span>
 103 |     | <span class='neutral'>     * @dev Indicates a failure with the `operator` to be approved. Used in approvals.</span>
 104 |     | <span class='neutral'>     * @param operator Address that may be allowed to operate on tokens without being their owner.</span>
 105 |     | <span class='neutral'>     */</span>
 106 |     | <span class='neutral'>    error ERC721InvalidOperator(address operator);</span>
 107 |     | <span class='neutral'>}</span>
 108 |     | <span class='neutral'></span>
 109 |     | <span class='neutral'>/**</span>
 110 |     | <span class='neutral'> * @dev Standard ERC-1155 Errors</span>
 111 |     | <span class='neutral'> * Interface of the https://eips.ethereum.org/EIPS/eip-6093[ERC-6093] custom errors for ERC-1155 tokens.</span>
 112 |     | <span class='neutral'> */</span>
 113 |     | <span class='neutral'>interface IERC1155Errors {</span>
 114 |     | <span class='neutral'>    /**</span>
 115 |     | <span class='neutral'>     * @dev Indicates an error related to the current `balance` of a `sender`. Used in transfers.</span>
 116 |     | <span class='neutral'>     * @param sender Address whose tokens are being transferred.</span>
 117 |     | <span class='neutral'>     * @param balance Current balance for the interacting account.</span>
 118 |     | <span class='neutral'>     * @param needed Minimum amount required to perform a transfer.</span>
 119 |     | <span class='neutral'>     * @param tokenId Identifier number of a token.</span>
 120 |     | <span class='neutral'>     */</span>
 121 |     | <span class='neutral'>    error ERC1155InsufficientBalance(address sender, uint256 balance, uint256 needed, uint256 tokenId);</span>
 122 |     | <span class='neutral'></span>
 123 |     | <span class='neutral'>    /**</span>
 124 |     | <span class='neutral'>     * @dev Indicates a failure with the token `sender`. Used in transfers.</span>
 125 |     | <span class='neutral'>     * @param sender Address whose tokens are being transferred.</span>
 126 |     | <span class='neutral'>     */</span>
 127 |     | <span class='neutral'>    error ERC1155InvalidSender(address sender);</span>
 128 |     | <span class='neutral'></span>
 129 |     | <span class='neutral'>    /**</span>
 130 |     | <span class='neutral'>     * @dev Indicates a failure with the token `receiver`. Used in transfers.</span>
 131 |     | <span class='neutral'>     * @param receiver Address to which tokens are being transferred.</span>
 132 |     | <span class='neutral'>     */</span>
 133 |     | <span class='neutral'>    error ERC1155InvalidReceiver(address receiver);</span>
 134 |     | <span class='neutral'></span>
 135 |     | <span class='neutral'>    /**</span>
 136 |     | <span class='neutral'>     * @dev Indicates a failure with the `operator`’s approval. Used in transfers.</span>
 137 |     | <span class='neutral'>     * @param operator Address that may be allowed to operate on tokens without being their owner.</span>
 138 |     | <span class='neutral'>     * @param owner Address of the current owner of a token.</span>
 139 |     | <span class='neutral'>     */</span>
 140 |     | <span class='neutral'>    error ERC1155MissingApprovalForAll(address operator, address owner);</span>
 141 |     | <span class='neutral'></span>
 142 |     | <span class='neutral'>    /**</span>
 143 |     | <span class='neutral'>     * @dev Indicates a failure with the `approver` of a token to be approved. Used in approvals.</span>
 144 |     | <span class='neutral'>     * @param approver Address initiating an approval operation.</span>
 145 |     | <span class='neutral'>     */</span>
 146 |     | <span class='neutral'>    error ERC1155InvalidApprover(address approver);</span>
 147 |     | <span class='neutral'></span>
 148 |     | <span class='neutral'>    /**</span>
 149 |     | <span class='neutral'>     * @dev Indicates a failure with the `operator` to be approved. Used in approvals.</span>
 150 |     | <span class='neutral'>     * @param operator Address that may be allowed to operate on tokens without being their owner.</span>
 151 |     | <span class='neutral'>     */</span>
 152 |     | <span class='neutral'>    error ERC1155InvalidOperator(address operator);</span>
 153 |     | <span class='neutral'></span>
 154 |     | <span class='neutral'>    /**</span>
 155 |     | <span class='neutral'>     * @dev Indicates an array length mismatch between ids and values in a safeBatchTransferFrom operation.</span>
 156 |     | <span class='neutral'>     * Used in batch transfers.</span>
 157 |     | <span class='neutral'>     * @param idsLength Length of the array of token identifiers</span>
 158 |     | <span class='neutral'>     * @param valuesLength Length of the array of token amounts</span>
 159 |     | <span class='neutral'>     */</span>
 160 |     | <span class='neutral'>    error ERC1155InvalidArrayLength(uint256 idsLength, uint256 valuesLength);</span>
 161 |     | <span class='neutral'>}</span>
 162 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/openzeppelin-contracts/contracts/token/ERC20/ERC20.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.2.0) (token/ERC20/ERC20.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>import {IERC20} from &quot;./IERC20.sol&quot;;</span>
   7 |     | <span class='neutral'>import {IERC20Metadata} from &quot;./extensions/IERC20Metadata.sol&quot;;</span>
   8 |     | <span class='neutral'>import {Context} from &quot;../../utils/Context.sol&quot;;</span>
   9 |     | <span class='neutral'>import {IERC20Errors} from &quot;../../interfaces/draft-IERC6093.sol&quot;;</span>
  10 |     | <span class='neutral'></span>
  11 |     | <span class='neutral'>/**</span>
  12 |     | <span class='neutral'> * @dev Implementation of the {IERC20} interface.</span>
  13 |     | <span class='neutral'> *</span>
  14 |     | <span class='neutral'> * This implementation is agnostic to the way tokens are created. This means</span>
  15 |     | <span class='neutral'> * that a supply mechanism has to be added in a derived contract using {_mint}.</span>
  16 |     | <span class='neutral'> *</span>
  17 |     | <span class='neutral'> * TIP: For a detailed writeup see our guide</span>
  18 |     | <span class='neutral'> * https://forum.openzeppelin.com/t/how-to-implement-erc20-supply-mechanisms/226[How</span>
  19 |     | <span class='neutral'> * to implement supply mechanisms].</span>
  20 |     | <span class='neutral'> *</span>
  21 |     | <span class='neutral'> * The default value of {decimals} is 18. To change this, you should override</span>
  22 |     | <span class='neutral'> * this function so it returns a different value.</span>
  23 |     | <span class='neutral'> *</span>
  24 |     | <span class='neutral'> * We have followed general OpenZeppelin Contracts guidelines: functions revert</span>
  25 |     | <span class='neutral'> * instead returning `false` on failure. This behavior is nonetheless</span>
  26 |     | <span class='neutral'> * conventional and does not conflict with the expectations of ERC-20</span>
  27 |     | <span class='neutral'> * applications.</span>
  28 |     | <span class='neutral'> */</span>
  29 |     | <span class='neutral'>abstract contract ERC20 is Context, IERC20, IERC20Metadata, IERC20Errors {</span>
  30 |     | <span class='neutral'>    mapping(address account =&gt; uint256) private _balances;</span>
  31 |     | <span class='neutral'></span>
  32 |     | <span class='neutral'>    mapping(address account =&gt; mapping(address spender =&gt; uint256)) private _allowances;</span>
  33 |     | <span class='neutral'></span>
  34 |     | <span class='neutral'>    uint256 private _totalSupply;</span>
  35 |     | <span class='neutral'></span>
  36 |     | <span class='neutral'>    string private _name;</span>
  37 |     | <span class='neutral'>    string private _symbol;</span>
  38 |     | <span class='neutral'></span>
  39 |     | <span class='neutral'>    /**</span>
  40 |     | <span class='neutral'>     * @dev Sets the values for {name} and {symbol}.</span>
  41 |     | <span class='neutral'>     *</span>
  42 |     | <span class='neutral'>     * All two of these values are immutable: they can only be set once during</span>
  43 |     | <span class='neutral'>     * construction.</span>
  44 |     | <span class='neutral'>     */</span>
  45 | *   | <span class='executed'>    constructor(string memory name_, string memory symbol_) {</span>
  46 | *   | <span class='executed'>        _name = name_;</span>
  47 | *   | <span class='executed'>        _symbol = symbol_;</span>
  48 |     | <span class='neutral'>    }</span>
  49 |     | <span class='neutral'></span>
  50 |     | <span class='neutral'>    /**</span>
  51 |     | <span class='neutral'>     * @dev Returns the name of the token.</span>
  52 |     | <span class='neutral'>     */</span>
  53 | *   | <span class='executed'>    function name() public view virtual returns (string memory) {</span>
  54 | *   | <span class='executed'>        return _name;</span>
  55 |     | <span class='neutral'>    }</span>
  56 |     | <span class='neutral'></span>
  57 |     | <span class='neutral'>    /**</span>
  58 |     | <span class='neutral'>     * @dev Returns the symbol of the token, usually a shorter version of the</span>
  59 |     | <span class='neutral'>     * name.</span>
  60 |     | <span class='neutral'>     */</span>
  61 | *   | <span class='executed'>    function symbol() public view virtual returns (string memory) {</span>
  62 | *   | <span class='executed'>        return _symbol;</span>
  63 |     | <span class='neutral'>    }</span>
  64 |     | <span class='neutral'></span>
  65 |     | <span class='neutral'>    /**</span>
  66 |     | <span class='neutral'>     * @dev Returns the number of decimals used to get its user representation.</span>
  67 |     | <span class='neutral'>     * For example, if `decimals` equals `2`, a balance of `505` tokens should</span>
  68 |     | <span class='neutral'>     * be displayed to a user as `5.05` (`505 / 10 ** 2`).</span>
  69 |     | <span class='neutral'>     *</span>
  70 |     | <span class='neutral'>     * Tokens usually opt for a value of 18, imitating the relationship between</span>
  71 |     | <span class='neutral'>     * Ether and Wei. This is the default value returned by this function, unless</span>
  72 |     | <span class='neutral'>     * it&#39;s overridden.</span>
  73 |     | <span class='neutral'>     *</span>
  74 |     | <span class='neutral'>     * NOTE: This information is only used for _display_ purposes: it in</span>
  75 |     | <span class='neutral'>     * no way affects any of the arithmetic of the contract, including</span>
  76 |     | <span class='neutral'>     * {IERC20-balanceOf} and {IERC20-transfer}.</span>
  77 |     | <span class='neutral'>     */</span>
  78 | *   | <span class='executed'>    function decimals() public view virtual returns (uint8) {</span>
  79 | *   | <span class='executed'>        return 18;</span>
  80 |     | <span class='neutral'>    }</span>
  81 |     | <span class='neutral'></span>
  82 |     | <span class='neutral'>    /**</span>
  83 |     | <span class='neutral'>     * @dev See {IERC20-totalSupply}.</span>
  84 |     | <span class='neutral'>     */</span>
  85 | *   | <span class='executed'>    function totalSupply() public view virtual returns (uint256) {</span>
  86 | *   | <span class='executed'>        return _totalSupply;</span>
  87 |     | <span class='neutral'>    }</span>
  88 |     | <span class='neutral'></span>
  89 |     | <span class='neutral'>    /**</span>
  90 |     | <span class='neutral'>     * @dev See {IERC20-balanceOf}.</span>
  91 |     | <span class='neutral'>     */</span>
  92 | *   | <span class='executed'>    function balanceOf(address account) public view virtual returns (uint256) {</span>
  93 | *   | <span class='executed'>        return _balances[account];</span>
  94 |     | <span class='neutral'>    }</span>
  95 |     | <span class='neutral'></span>
  96 |     | <span class='neutral'>    /**</span>
  97 |     | <span class='neutral'>     * @dev See {IERC20-transfer}.</span>
  98 |     | <span class='neutral'>     *</span>
  99 |     | <span class='neutral'>     * Requirements:</span>
 100 |     | <span class='neutral'>     *</span>
 101 |     | <span class='neutral'>     * - `to` cannot be the zero address.</span>
 102 |     | <span class='neutral'>     * - the caller must have a balance of at least `value`.</span>
 103 |     | <span class='neutral'>     */</span>
 104 | *   | <span class='executed'>    function transfer(address to, uint256 value) public virtual returns (bool) {</span>
 105 |     | <span class='neutral'>        address owner = _msgSender();</span>
 106 | *   | <span class='executed'>        _transfer(owner, to, value);</span>
 107 |     | <span class='neutral'>        return true;</span>
 108 |     | <span class='neutral'>    }</span>
 109 |     | <span class='neutral'></span>
 110 |     | <span class='neutral'>    /**</span>
 111 |     | <span class='neutral'>     * @dev See {IERC20-allowance}.</span>
 112 |     | <span class='neutral'>     */</span>
 113 | *   | <span class='executed'>    function allowance(address owner, address spender) public view virtual returns (uint256) {</span>
 114 | *   | <span class='executed'>        return _allowances[owner][spender];</span>
 115 |     | <span class='neutral'>    }</span>
 116 |     | <span class='neutral'></span>
 117 |     | <span class='neutral'>    /**</span>
 118 |     | <span class='neutral'>     * @dev See {IERC20-approve}.</span>
 119 |     | <span class='neutral'>     *</span>
 120 |     | <span class='neutral'>     * NOTE: If `value` is the maximum `uint256`, the allowance is not updated on</span>
 121 |     | <span class='neutral'>     * `transferFrom`. This is semantically equivalent to an infinite approval.</span>
 122 |     | <span class='neutral'>     *</span>
 123 |     | <span class='neutral'>     * Requirements:</span>
 124 |     | <span class='neutral'>     *</span>
 125 |     | <span class='neutral'>     * - `spender` cannot be the zero address.</span>
 126 |     | <span class='neutral'>     */</span>
 127 | *   | <span class='executed'>    function approve(address spender, uint256 value) public virtual returns (bool) {</span>
 128 |     | <span class='neutral'>        address owner = _msgSender();</span>
 129 | *   | <span class='executed'>        _approve(owner, spender, value);</span>
 130 | *   | <span class='executed'>        return true;</span>
 131 |     | <span class='neutral'>    }</span>
 132 |     | <span class='neutral'></span>
 133 |     | <span class='neutral'>    /**</span>
 134 |     | <span class='neutral'>     * @dev See {IERC20-transferFrom}.</span>
 135 |     | <span class='neutral'>     *</span>
 136 |     | <span class='neutral'>     * Skips emitting an {Approval} event indicating an allowance update. This is not</span>
 137 |     | <span class='neutral'>     * required by the ERC. See {xref-ERC20-_approve-address-address-uint256-bool-}[_approve].</span>
 138 |     | <span class='neutral'>     *</span>
 139 |     | <span class='neutral'>     * NOTE: Does not update the allowance if the current allowance</span>
 140 |     | <span class='neutral'>     * is the maximum `uint256`.</span>
 141 |     | <span class='neutral'>     *</span>
 142 |     | <span class='neutral'>     * Requirements:</span>
 143 |     | <span class='neutral'>     *</span>
 144 |     | <span class='neutral'>     * - `from` and `to` cannot be the zero address.</span>
 145 |     | <span class='neutral'>     * - `from` must have a balance of at least `value`.</span>
 146 |     | <span class='neutral'>     * - the caller must have allowance for ``from``&#39;s tokens of at least</span>
 147 |     | <span class='neutral'>     * `value`.</span>
 148 |     | <span class='neutral'>     */</span>
 149 | *   | <span class='executed'>    function transferFrom(address from, address to, uint256 value) public virtual returns (bool) {</span>
 150 |     | <span class='neutral'>        address spender = _msgSender();</span>
 151 | *   | <span class='executed'>        _spendAllowance(from, spender, value);</span>
 152 | *   | <span class='executed'>        _transfer(from, to, value);</span>
 153 | *   | <span class='executed'>        return true;</span>
 154 |     | <span class='neutral'>    }</span>
 155 |     | <span class='neutral'></span>
 156 |     | <span class='neutral'>    /**</span>
 157 |     | <span class='neutral'>     * @dev Moves a `value` amount of tokens from `from` to `to`.</span>
 158 |     | <span class='neutral'>     *</span>
 159 |     | <span class='neutral'>     * This internal function is equivalent to {transfer}, and can be used to</span>
 160 |     | <span class='neutral'>     * e.g. implement automatic token fees, slashing mechanisms, etc.</span>
 161 |     | <span class='neutral'>     *</span>
 162 |     | <span class='neutral'>     * Emits a {Transfer} event.</span>
 163 |     | <span class='neutral'>     *</span>
 164 |     | <span class='neutral'>     * NOTE: This function is not virtual, {_update} should be overridden instead.</span>
 165 |     | <span class='neutral'>     */</span>
 166 | *   | <span class='executed'>    function _transfer(address from, address to, uint256 value) internal {</span>
 167 | *   | <span class='executed'>        if (from == address(0)) {</span>
 168 |     | <span class='unexecuted'>            revert ERC20InvalidSender(address(0));</span>
 169 |     | <span class='neutral'>        }</span>
 170 | *   | <span class='executed'>        if (to == address(0)) {</span>
 171 | *   | <span class='executed'>            revert ERC20InvalidReceiver(address(0));</span>
 172 |     | <span class='neutral'>        }</span>
 173 | *   | <span class='executed'>        _update(from, to, value);</span>
 174 |     | <span class='neutral'>    }</span>
 175 |     | <span class='neutral'></span>
 176 |     | <span class='neutral'>    /**</span>
 177 |     | <span class='neutral'>     * @dev Transfers a `value` amount of tokens from `from` to `to`, or alternatively mints (or burns) if `from`</span>
 178 |     | <span class='neutral'>     * (or `to`) is the zero address. All customizations to transfers, mints, and burns should be done by overriding</span>
 179 |     | <span class='neutral'>     * this function.</span>
 180 |     | <span class='neutral'>     *</span>
 181 |     | <span class='neutral'>     * Emits a {Transfer} event.</span>
 182 |     | <span class='neutral'>     */</span>
 183 | *   | <span class='executed'>    function _update(address from, address to, uint256 value) internal virtual {</span>
 184 | *   | <span class='executed'>        if (from == address(0)) {</span>
 185 |     | <span class='neutral'>            // Overflow check required: The rest of the code assumes that totalSupply never overflows</span>
 186 | *   | <span class='executed'>            _totalSupply += value;</span>
 187 |     | <span class='neutral'>        } else {</span>
 188 | *   | <span class='executed'>            uint256 fromBalance = _balances[from];</span>
 189 | *   | <span class='executed'>            if (fromBalance &lt; value) {</span>
 190 | *   | <span class='executed'>                revert ERC20InsufficientBalance(from, fromBalance, value);</span>
 191 |     | <span class='neutral'>            }</span>
 192 |     | <span class='neutral'>            unchecked {</span>
 193 |     | <span class='neutral'>                // Overflow not possible: value &lt;= fromBalance &lt;= totalSupply.</span>
 194 | *   | <span class='executed'>                _balances[from] = fromBalance - value;</span>
 195 |     | <span class='neutral'>            }</span>
 196 |     | <span class='neutral'>        }</span>
 197 |     | <span class='neutral'></span>
 198 | *   | <span class='executed'>        if (to == address(0)) {</span>
 199 |     | <span class='neutral'>            unchecked {</span>
 200 |     | <span class='neutral'>                // Overflow not possible: value &lt;= totalSupply or value &lt;= fromBalance &lt;= totalSupply.</span>
 201 | *   | <span class='executed'>                _totalSupply -= value;</span>
 202 |     | <span class='neutral'>            }</span>
 203 |     | <span class='neutral'>        } else {</span>
 204 |     | <span class='neutral'>            unchecked {</span>
 205 |     | <span class='neutral'>                // Overflow not possible: balance + value is at most totalSupply, which we know fits into a uint256.</span>
 206 | *   | <span class='executed'>                _balances[to] += value;</span>
 207 |     | <span class='neutral'>            }</span>
 208 |     | <span class='neutral'>        }</span>
 209 |     | <span class='neutral'></span>
 210 | *   | <span class='executed'>        emit Transfer(from, to, value);</span>
 211 |     | <span class='neutral'>    }</span>
 212 |     | <span class='neutral'></span>
 213 |     | <span class='neutral'>    /**</span>
 214 |     | <span class='neutral'>     * @dev Creates a `value` amount of tokens and assigns them to `account`, by transferring it from address(0).</span>
 215 |     | <span class='neutral'>     * Relies on the `_update` mechanism</span>
 216 |     | <span class='neutral'>     *</span>
 217 |     | <span class='neutral'>     * Emits a {Transfer} event with `from` set to the zero address.</span>
 218 |     | <span class='neutral'>     *</span>
 219 |     | <span class='neutral'>     * NOTE: This function is not virtual, {_update} should be overridden instead.</span>
 220 |     | <span class='neutral'>     */</span>
 221 | *   | <span class='executed'>    function _mint(address account, uint256 value) internal {</span>
 222 | *   | <span class='executed'>        if (account == address(0)) {</span>
 223 | *   | <span class='executed'>            revert ERC20InvalidReceiver(address(0));</span>
 224 |     | <span class='neutral'>        }</span>
 225 | *   | <span class='executed'>        _update(address(0), account, value);</span>
 226 |     | <span class='neutral'>    }</span>
 227 |     | <span class='neutral'></span>
 228 |     | <span class='neutral'>    /**</span>
 229 |     | <span class='neutral'>     * @dev Destroys a `value` amount of tokens from `account`, lowering the total supply.</span>
 230 |     | <span class='neutral'>     * Relies on the `_update` mechanism.</span>
 231 |     | <span class='neutral'>     *</span>
 232 |     | <span class='neutral'>     * Emits a {Transfer} event with `to` set to the zero address.</span>
 233 |     | <span class='neutral'>     *</span>
 234 |     | <span class='neutral'>     * NOTE: This function is not virtual, {_update} should be overridden instead</span>
 235 |     | <span class='neutral'>     */</span>
 236 | *   | <span class='executed'>    function _burn(address account, uint256 value) internal {</span>
 237 | *   | <span class='executed'>        if (account == address(0)) {</span>
 238 | *   | <span class='executed'>            revert ERC20InvalidSender(address(0));</span>
 239 |     | <span class='neutral'>        }</span>
 240 | *   | <span class='executed'>        _update(account, address(0), value);</span>
 241 |     | <span class='neutral'>    }</span>
 242 |     | <span class='neutral'></span>
 243 |     | <span class='neutral'>    /**</span>
 244 |     | <span class='neutral'>     * @dev Sets `value` as the allowance of `spender` over the `owner` s tokens.</span>
 245 |     | <span class='neutral'>     *</span>
 246 |     | <span class='neutral'>     * This internal function is equivalent to `approve`, and can be used to</span>
 247 |     | <span class='neutral'>     * e.g. set automatic allowances for certain subsystems, etc.</span>
 248 |     | <span class='neutral'>     *</span>
 249 |     | <span class='neutral'>     * Emits an {Approval} event.</span>
 250 |     | <span class='neutral'>     *</span>
 251 |     | <span class='neutral'>     * Requirements:</span>
 252 |     | <span class='neutral'>     *</span>
 253 |     | <span class='neutral'>     * - `owner` cannot be the zero address.</span>
 254 |     | <span class='neutral'>     * - `spender` cannot be the zero address.</span>
 255 |     | <span class='neutral'>     *</span>
 256 |     | <span class='neutral'>     * Overrides to this logic should be done to the variant with an additional `bool emitEvent` argument.</span>
 257 |     | <span class='neutral'>     */</span>
 258 | *   | <span class='executed'>    function _approve(address owner, address spender, uint256 value) internal {</span>
 259 | *   | <span class='executed'>        _approve(owner, spender, value, true);</span>
 260 |     | <span class='neutral'>    }</span>
 261 |     | <span class='neutral'></span>
 262 |     | <span class='neutral'>    /**</span>
 263 |     | <span class='neutral'>     * @dev Variant of {_approve} with an optional flag to enable or disable the {Approval} event.</span>
 264 |     | <span class='neutral'>     *</span>
 265 |     | <span class='neutral'>     * By default (when calling {_approve}) the flag is set to true. On the other hand, approval changes made by</span>
 266 |     | <span class='neutral'>     * `_spendAllowance` during the `transferFrom` operation set the flag to false. This saves gas by not emitting any</span>
 267 |     | <span class='neutral'>     * `Approval` event during `transferFrom` operations.</span>
 268 |     | <span class='neutral'>     *</span>
 269 |     | <span class='neutral'>     * Anyone who wishes to continue emitting `Approval` events on the`transferFrom` operation can force the flag to</span>
 270 |     | <span class='neutral'>     * true using the following override:</span>
 271 |     | <span class='neutral'>     *</span>
 272 |     | <span class='neutral'>     * ```solidity</span>
 273 |     | <span class='neutral'>     * function _approve(address owner, address spender, uint256 value, bool) internal virtual override {</span>
 274 |     | <span class='neutral'>     *     super._approve(owner, spender, value, true);</span>
 275 |     | <span class='neutral'>     * }</span>
 276 |     | <span class='neutral'>     * ```</span>
 277 |     | <span class='neutral'>     *</span>
 278 |     | <span class='neutral'>     * Requirements are the same as {_approve}.</span>
 279 |     | <span class='neutral'>     */</span>
 280 | *   | <span class='executed'>    function _approve(address owner, address spender, uint256 value, bool emitEvent) internal virtual {</span>
 281 | *   | <span class='executed'>        if (owner == address(0)) {</span>
 282 |     | <span class='unexecuted'>            revert ERC20InvalidApprover(address(0));</span>
 283 |     | <span class='neutral'>        }</span>
 284 | *   | <span class='executed'>        if (spender == address(0)) {</span>
 285 | *   | <span class='executed'>            revert ERC20InvalidSpender(address(0));</span>
 286 |     | <span class='neutral'>        }</span>
 287 | *   | <span class='executed'>        _allowances[owner][spender] = value;</span>
 288 | *   | <span class='executed'>        if (emitEvent) {</span>
 289 | *   | <span class='executed'>            emit Approval(owner, spender, value);</span>
 290 |     | <span class='neutral'>        }</span>
 291 |     | <span class='neutral'>    }</span>
 292 |     | <span class='neutral'></span>
 293 |     | <span class='neutral'>    /**</span>
 294 |     | <span class='neutral'>     * @dev Updates `owner` s allowance for `spender` based on spent `value`.</span>
 295 |     | <span class='neutral'>     *</span>
 296 |     | <span class='neutral'>     * Does not update the allowance value in case of infinite allowance.</span>
 297 |     | <span class='neutral'>     * Revert if not enough allowance is available.</span>
 298 |     | <span class='neutral'>     *</span>
 299 |     | <span class='neutral'>     * Does not emit an {Approval} event.</span>
 300 |     | <span class='neutral'>     */</span>
 301 | *   | <span class='executed'>    function _spendAllowance(address owner, address spender, uint256 value) internal virtual {</span>
 302 | *   | <span class='executed'>        uint256 currentAllowance = allowance(owner, spender);</span>
 303 | *   | <span class='executed'>        if (currentAllowance &lt; type(uint256).max) {</span>
 304 | *   | <span class='executed'>            if (currentAllowance &lt; value) {</span>
 305 | *r  | <span class='executed'>                revert ERC20InsufficientAllowance(spender, currentAllowance, value);</span>
 306 |     | <span class='neutral'>            }</span>
 307 |     | <span class='neutral'>            unchecked {</span>
 308 | *   | <span class='executed'>                _approve(owner, spender, currentAllowance - value, false);</span>
 309 |     | <span class='neutral'>            }</span>
 310 |     | <span class='neutral'>        }</span>
 311 |     | <span class='neutral'>    }</span>
 312 |     | <span class='neutral'>}</span>
 313 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.1.0) (token/ERC20/IERC20.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>/**</span>
  7 |     | <span class='neutral'> * @dev Interface of the ERC-20 standard as defined in the ERC.</span>
  8 |     | <span class='neutral'> */</span>
  9 |     | <span class='neutral'>interface IERC20 {</span>
 10 |     | <span class='neutral'>    /**</span>
 11 |     | <span class='neutral'>     * @dev Emitted when `value` tokens are moved from one account (`from`) to</span>
 12 |     | <span class='neutral'>     * another (`to`).</span>
 13 |     | <span class='neutral'>     *</span>
 14 |     | <span class='neutral'>     * Note that `value` may be zero.</span>
 15 |     | <span class='neutral'>     */</span>
 16 |     | <span class='neutral'>    event Transfer(address indexed from, address indexed to, uint256 value);</span>
 17 |     | <span class='neutral'></span>
 18 |     | <span class='neutral'>    /**</span>
 19 |     | <span class='neutral'>     * @dev Emitted when the allowance of a `spender` for an `owner` is set by</span>
 20 |     | <span class='neutral'>     * a call to {approve}. `value` is the new allowance.</span>
 21 |     | <span class='neutral'>     */</span>
 22 |     | <span class='neutral'>    event Approval(address indexed owner, address indexed spender, uint256 value);</span>
 23 |     | <span class='neutral'></span>
 24 |     | <span class='neutral'>    /**</span>
 25 |     | <span class='neutral'>     * @dev Returns the value of tokens in existence.</span>
 26 |     | <span class='neutral'>     */</span>
 27 |     | <span class='neutral'>    function totalSupply() external view returns (uint256);</span>
 28 |     | <span class='neutral'></span>
 29 |     | <span class='neutral'>    /**</span>
 30 |     | <span class='neutral'>     * @dev Returns the value of tokens owned by `account`.</span>
 31 |     | <span class='neutral'>     */</span>
 32 |     | <span class='neutral'>    function balanceOf(address account) external view returns (uint256);</span>
 33 |     | <span class='neutral'></span>
 34 |     | <span class='neutral'>    /**</span>
 35 |     | <span class='neutral'>     * @dev Moves a `value` amount of tokens from the caller&#39;s account to `to`.</span>
 36 |     | <span class='neutral'>     *</span>
 37 |     | <span class='neutral'>     * Returns a boolean value indicating whether the operation succeeded.</span>
 38 |     | <span class='neutral'>     *</span>
 39 |     | <span class='neutral'>     * Emits a {Transfer} event.</span>
 40 |     | <span class='neutral'>     */</span>
 41 |     | <span class='neutral'>    function transfer(address to, uint256 value) external returns (bool);</span>
 42 |     | <span class='neutral'></span>
 43 |     | <span class='neutral'>    /**</span>
 44 |     | <span class='neutral'>     * @dev Returns the remaining number of tokens that `spender` will be</span>
 45 |     | <span class='neutral'>     * allowed to spend on behalf of `owner` through {transferFrom}. This is</span>
 46 |     | <span class='neutral'>     * zero by default.</span>
 47 |     | <span class='neutral'>     *</span>
 48 |     | <span class='neutral'>     * This value changes when {approve} or {transferFrom} are called.</span>
 49 |     | <span class='neutral'>     */</span>
 50 |     | <span class='neutral'>    function allowance(address owner, address spender) external view returns (uint256);</span>
 51 |     | <span class='neutral'></span>
 52 |     | <span class='neutral'>    /**</span>
 53 |     | <span class='neutral'>     * @dev Sets a `value` amount of tokens as the allowance of `spender` over the</span>
 54 |     | <span class='neutral'>     * caller&#39;s tokens.</span>
 55 |     | <span class='neutral'>     *</span>
 56 |     | <span class='neutral'>     * Returns a boolean value indicating whether the operation succeeded.</span>
 57 |     | <span class='neutral'>     *</span>
 58 |     | <span class='neutral'>     * IMPORTANT: Beware that changing an allowance with this method brings the risk</span>
 59 |     | <span class='neutral'>     * that someone may use both the old and the new allowance by unfortunate</span>
 60 |     | <span class='neutral'>     * transaction ordering. One possible solution to mitigate this race</span>
 61 |     | <span class='neutral'>     * condition is to first reduce the spender&#39;s allowance to 0 and set the</span>
 62 |     | <span class='neutral'>     * desired value afterwards:</span>
 63 |     | <span class='neutral'>     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729</span>
 64 |     | <span class='neutral'>     *</span>
 65 |     | <span class='neutral'>     * Emits an {Approval} event.</span>
 66 |     | <span class='neutral'>     */</span>
 67 |     | <span class='neutral'>    function approve(address spender, uint256 value) external returns (bool);</span>
 68 |     | <span class='neutral'></span>
 69 |     | <span class='neutral'>    /**</span>
 70 |     | <span class='neutral'>     * @dev Moves a `value` amount of tokens from `from` to `to` using the</span>
 71 |     | <span class='neutral'>     * allowance mechanism. `value` is then deducted from the caller&#39;s</span>
 72 |     | <span class='neutral'>     * allowance.</span>
 73 |     | <span class='neutral'>     *</span>
 74 |     | <span class='neutral'>     * Returns a boolean value indicating whether the operation succeeded.</span>
 75 |     | <span class='neutral'>     *</span>
 76 |     | <span class='neutral'>     * Emits a {Transfer} event.</span>
 77 |     | <span class='neutral'>     */</span>
 78 |     | <span class='neutral'>    function transferFrom(address from, address to, uint256 value) external returns (bool);</span>
 79 |     | <span class='neutral'>}</span>
 80 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/openzeppelin-contracts/contracts/token/ERC20/extensions/ERC20Burnable.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (token/ERC20/extensions/ERC20Burnable.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>import {ERC20} from &quot;../ERC20.sol&quot;;</span>
  7 |     | <span class='neutral'>import {Context} from &quot;../../../utils/Context.sol&quot;;</span>
  8 |     | <span class='neutral'></span>
  9 |     | <span class='neutral'>/**</span>
 10 |     | <span class='neutral'> * @dev Extension of {ERC20} that allows token holders to destroy both their own</span>
 11 |     | <span class='neutral'> * tokens and those that they have an allowance for, in a way that can be</span>
 12 |     | <span class='neutral'> * recognized off-chain (via event analysis).</span>
 13 |     | <span class='neutral'> */</span>
 14 |     | <span class='neutral'>abstract contract ERC20Burnable is Context, ERC20 {</span>
 15 |     | <span class='neutral'>    /**</span>
 16 |     | <span class='neutral'>     * @dev Destroys a `value` amount of tokens from the caller.</span>
 17 |     | <span class='neutral'>     *</span>
 18 |     | <span class='neutral'>     * See {ERC20-_burn}.</span>
 19 |     | <span class='neutral'>     */</span>
 20 | *   | <span class='executed'>    function burn(uint256 value) public virtual {</span>
 21 | *   | <span class='executed'>        _burn(_msgSender(), value);</span>
 22 |     | <span class='neutral'>    }</span>
 23 |     | <span class='neutral'></span>
 24 |     | <span class='neutral'>    /**</span>
 25 |     | <span class='neutral'>     * @dev Destroys a `value` amount of tokens from `account`, deducting from</span>
 26 |     | <span class='neutral'>     * the caller&#39;s allowance.</span>
 27 |     | <span class='neutral'>     *</span>
 28 |     | <span class='neutral'>     * See {ERC20-_burn} and {ERC20-allowance}.</span>
 29 |     | <span class='neutral'>     *</span>
 30 |     | <span class='neutral'>     * Requirements:</span>
 31 |     | <span class='neutral'>     *</span>
 32 |     | <span class='neutral'>     * - the caller must have allowance for ``accounts``&#39;s tokens of at least</span>
 33 |     | <span class='neutral'>     * `value`.</span>
 34 |     | <span class='neutral'>     */</span>
 35 |     | <span class='neutral'>    function burnFrom(address account, uint256 value) public virtual {</span>
 36 |     | <span class='neutral'>        _spendAllowance(account, _msgSender(), value);</span>
 37 |     | <span class='neutral'>        _burn(account, value);</span>
 38 |     | <span class='neutral'>    }</span>
 39 |     | <span class='neutral'>}</span>
 40 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/openzeppelin-contracts/contracts/token/ERC20/extensions/IERC20Metadata.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.1.0) (token/ERC20/extensions/IERC20Metadata.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>import {IERC20} from &quot;../IERC20.sol&quot;;</span>
  7 |     | <span class='neutral'></span>
  8 |     | <span class='neutral'>/**</span>
  9 |     | <span class='neutral'> * @dev Interface for the optional metadata functions from the ERC-20 standard.</span>
 10 |     | <span class='neutral'> */</span>
 11 |     | <span class='neutral'>interface IERC20Metadata is IERC20 {</span>
 12 |     | <span class='neutral'>    /**</span>
 13 |     | <span class='neutral'>     * @dev Returns the name of the token.</span>
 14 |     | <span class='neutral'>     */</span>
 15 |     | <span class='neutral'>    function name() external view returns (string memory);</span>
 16 |     | <span class='neutral'></span>
 17 |     | <span class='neutral'>    /**</span>
 18 |     | <span class='neutral'>     * @dev Returns the symbol of the token.</span>
 19 |     | <span class='neutral'>     */</span>
 20 |     | <span class='neutral'>    function symbol() external view returns (string memory);</span>
 21 |     | <span class='neutral'></span>
 22 |     | <span class='neutral'>    /**</span>
 23 |     | <span class='neutral'>     * @dev Returns the decimals places of the token.</span>
 24 |     | <span class='neutral'>     */</span>
 25 |     | <span class='neutral'>    function decimals() external view returns (uint8);</span>
 26 |     | <span class='neutral'>}</span>
 27 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/openzeppelin-contracts/contracts/utils/Context.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.1) (utils/Context.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>/**</span>
  7 |     | <span class='neutral'> * @dev Provides information about the current execution context, including the</span>
  8 |     | <span class='neutral'> * sender of the transaction and its data. While these are generally available</span>
  9 |     | <span class='neutral'> * via msg.sender and msg.data, they should not be accessed in such a direct</span>
 10 |     | <span class='neutral'> * manner, since when dealing with meta-transactions the account sending and</span>
 11 |     | <span class='neutral'> * paying for execution may not be the actual sender (as far as an application</span>
 12 |     | <span class='neutral'> * is concerned).</span>
 13 |     | <span class='neutral'> *</span>
 14 |     | <span class='neutral'> * This contract is only required for intermediate, library-like contracts.</span>
 15 |     | <span class='neutral'> */</span>
 16 |     | <span class='neutral'>abstract contract Context {</span>
 17 |     | <span class='neutral'>    function _msgSender() internal view virtual returns (address) {</span>
 18 | *   | <span class='executed'>        return msg.sender;</span>
 19 |     | <span class='neutral'>    }</span>
 20 |     | <span class='neutral'></span>
 21 |     | <span class='neutral'>    function _msgData() internal view virtual returns (bytes calldata) {</span>
 22 |     | <span class='neutral'>        return msg.data;</span>
 23 |     | <span class='neutral'>    }</span>
 24 |     | <span class='neutral'></span>
 25 |     | <span class='neutral'>    function _contextSuffixLength() internal view virtual returns (uint256) {</span>
 26 |     | <span class='neutral'>        return 0;</span>
 27 |     | <span class='neutral'>    }</span>
 28 |     | <span class='neutral'>}</span>
 29 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/properties/contracts/ERC20/external/properties/ERC20ExternalBasicProperties.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: AGPL-3.0-or-later</span>
   2 |     | <span class='neutral'>pragma solidity ^0.8.0;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>import {CryticERC20ExternalTestBase} from &quot;../util/ERC20ExternalTestBase.sol&quot;;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>abstract contract CryticERC20ExternalBasicProperties is</span>
   7 |     | <span class='neutral'>    CryticERC20ExternalTestBase</span>
   8 |     | <span class='neutral'>{</span>
   9 |     | <span class='neutral'>    constructor() {}</span>
  10 |     | <span class='neutral'></span>
  11 |     | <span class='neutral'>    ////////////////////////////////////////</span>
  12 |     | <span class='neutral'>    // Properties</span>
  13 |     | <span class='neutral'></span>
  14 |     | <span class='neutral'>    // Total supply should change only by means of mint or burn</span>
  15 | *   | <span class='executed'>    function test_ERC20external_constantSupply() public virtual {</span>
  16 | *r  | <span class='executed'>        require(!token.isMintableOrBurnable());</span>
  17 |     | <span class='unexecuted'>        assertEq(</span>
  18 |     | <span class='unexecuted'>            token.initialSupply(),</span>
  19 |     | <span class='unexecuted'>            token.totalSupply(),</span>
  20 |     | <span class='neutral'>            &quot;Token supply was modified&quot;</span>
  21 |     | <span class='neutral'>        );</span>
  22 |     | <span class='neutral'>    }</span>
  23 |     | <span class='neutral'></span>
  24 |     | <span class='neutral'>    // User balance must not exceed total supply</span>
  25 | *   | <span class='executed'>    function test_ERC20external_userBalanceNotHigherThanSupply() public {</span>
  26 | *   | <span class='executed'>        assertLte(</span>
  27 | *   | <span class='executed'>            token.balanceOf(msg.sender),</span>
  28 | *   | <span class='executed'>            token.totalSupply(),</span>
  29 |     | <span class='neutral'>            &quot;User balance higher than total supply&quot;</span>
  30 |     | <span class='neutral'>        );</span>
  31 |     | <span class='neutral'>    }</span>
  32 |     | <span class='neutral'></span>
  33 |     | <span class='neutral'>    // Sum of users balance must not exceed total supply</span>
  34 | *   | <span class='executed'>    function test_ERC20external_userBalancesLessThanTotalSupply() public {</span>
  35 | *   | <span class='executed'>        uint256 sumBalances = token.balanceOf(address(this)) +</span>
  36 | *   | <span class='executed'>            token.balanceOf(USER1) +</span>
  37 | *   | <span class='executed'>            token.balanceOf(USER2) +</span>
  38 | *   | <span class='executed'>            token.balanceOf(USER3);</span>
  39 | *   | <span class='executed'>        assertLte(</span>
  40 | *   | <span class='executed'>            sumBalances,</span>
  41 | *   | <span class='executed'>            token.totalSupply(),</span>
  42 |     | <span class='neutral'>            &quot;Sum of user balances are greater than total supply&quot;</span>
  43 |     | <span class='neutral'>        );</span>
  44 |     | <span class='neutral'>    }</span>
  45 |     | <span class='neutral'></span>
  46 |     | <span class='neutral'>    // Address zero should have zero balance</span>
  47 | *   | <span class='executed'>    function test_ERC20external_zeroAddressBalance() public {</span>
  48 | *   | <span class='executed'>        assertEq(</span>
  49 | *   | <span class='executed'>            token.balanceOf(address(0)),</span>
  50 | *   | <span class='executed'>            0,</span>
  51 |     | <span class='neutral'>            &quot;Address zero balance not equal to zero&quot;</span>
  52 |     | <span class='neutral'>        );</span>
  53 |     | <span class='neutral'>    }</span>
  54 |     | <span class='neutral'></span>
  55 |     | <span class='neutral'>    // Transfers to zero address should not be allowed</span>
  56 | *   | <span class='executed'>    function test_ERC20external_transferToZeroAddress() public {</span>
  57 | *   | <span class='executed'>        uint256 balance = token.balanceOf(address(this));</span>
  58 | *r  | <span class='executed'>        require(balance &gt; 0);</span>
  59 |     | <span class='neutral'></span>
  60 | *r  | <span class='executed'>        bool r = token.transfer(address(0), balance);</span>
  61 | *   | <span class='executed'>        assertWithMsg(r == false, &quot;Successful transfer to address zero&quot;);</span>
  62 |     | <span class='neutral'>    }</span>
  63 |     | <span class='neutral'></span>
  64 |     | <span class='neutral'>    // Transfers to zero address should not be allowed</span>
  65 | *   | <span class='executed'>    function test_ERC20external_transferFromToZeroAddress(</span>
  66 |     | <span class='neutral'>        uint256 value</span>
  67 | *   | <span class='executed'>    ) public {</span>
  68 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(msg.sender);</span>
  69 | *   | <span class='executed'>        uint256 allowance = token.allowance(msg.sender, address(this));</span>
  70 | *r  | <span class='executed'>        require(balance_sender &gt; 0 &amp;&amp; allowance &gt; 0);</span>
  71 | *   | <span class='executed'>        uint256 maxValue = balance_sender &gt;= allowance</span>
  72 | *   | <span class='executed'>            ? allowance</span>
  73 | *   | <span class='executed'>            : balance_sender;</span>
  74 |     | <span class='neutral'></span>
  75 | *r  | <span class='executed'>        bool r = token.transferFrom(</span>
  76 | *   | <span class='executed'>            msg.sender,</span>
  77 |     | <span class='neutral'>            address(0),</span>
  78 | *   | <span class='executed'>            value % (maxValue + 1)</span>
  79 |     | <span class='neutral'>        );</span>
  80 | *   | <span class='executed'>        assertWithMsg(r == false, &quot;Successful transferFrom to address zero&quot;);</span>
  81 |     | <span class='neutral'>    }</span>
  82 |     | <span class='neutral'></span>
  83 |     | <span class='neutral'>    // Self transfers should not break accounting</span>
  84 | *   | <span class='executed'>    function test_ERC20external_selfTransferFrom(uint256 value) public {</span>
  85 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(msg.sender);</span>
  86 | *   | <span class='executed'>        uint256 allowance = token.allowance(msg.sender, address(this));</span>
  87 | *r  | <span class='executed'>        require(balance_sender &gt; 0 &amp;&amp; allowance &gt; 0);</span>
  88 | *   | <span class='executed'>        uint256 maxValue = balance_sender &gt;= allowance</span>
  89 | *   | <span class='executed'>            ? allowance</span>
  90 | *   | <span class='executed'>            : balance_sender;</span>
  91 |     | <span class='neutral'></span>
  92 | *   | <span class='executed'>        bool r = token.transferFrom(</span>
  93 | *   | <span class='executed'>            msg.sender,</span>
  94 |     | <span class='neutral'>            msg.sender,</span>
  95 | *   | <span class='executed'>            value % (maxValue + 1)</span>
  96 |     | <span class='neutral'>        );</span>
  97 | *   | <span class='executed'>        assertWithMsg(r == true, &quot;Failed self transferFrom&quot;);</span>
  98 | *   | <span class='executed'>        assertEq(</span>
  99 | *   | <span class='executed'>            balance_sender,</span>
 100 | *   | <span class='executed'>            token.balanceOf(msg.sender),</span>
 101 |     | <span class='neutral'>            &quot;Self transferFrom breaks accounting&quot;</span>
 102 |     | <span class='neutral'>        );</span>
 103 |     | <span class='neutral'>    }</span>
 104 |     | <span class='neutral'></span>
 105 |     | <span class='neutral'>    // Self transfers should not break accounting</span>
 106 | *   | <span class='executed'>    function test_ERC20external_selfTransfer(uint256 value) public {</span>
 107 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(address(this));</span>
 108 | *r  | <span class='executed'>        require(balance_sender &gt; 0);</span>
 109 |     | <span class='neutral'></span>
 110 | *   | <span class='executed'>        bool r = token.transfer(address(this), value % (balance_sender + 1));</span>
 111 | *   | <span class='executed'>        assertWithMsg(r == true, &quot;Failed self transfer&quot;);</span>
 112 | *   | <span class='executed'>        assertEq(</span>
 113 | *   | <span class='executed'>            balance_sender,</span>
 114 | *   | <span class='executed'>            token.balanceOf(address(this)),</span>
 115 |     | <span class='neutral'>            &quot;Self transfer breaks accounting&quot;</span>
 116 |     | <span class='neutral'>        );</span>
 117 |     | <span class='neutral'>    }</span>
 118 |     | <span class='neutral'></span>
 119 |     | <span class='neutral'>    // Transfers for more than available balance should not be allowed</span>
 120 | *   | <span class='executed'>    function test_ERC20external_transferFromMoreThanBalance(</span>
 121 |     | <span class='neutral'>        address target</span>
 122 |     | <span class='neutral'>    ) public {</span>
 123 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(msg.sender);</span>
 124 | *   | <span class='executed'>        uint256 balance_receiver = token.balanceOf(target);</span>
 125 | *   | <span class='executed'>        uint256 allowance = token.allowance(msg.sender, address(this));</span>
 126 | *r  | <span class='executed'>        require(balance_sender &gt; 0 &amp;&amp; allowance &gt; balance_sender);</span>
 127 |     | <span class='neutral'></span>
 128 | *r  | <span class='executed'>        bool r = token.transferFrom(msg.sender, target, balance_sender + 1);</span>
 129 |     | <span class='unexecuted'>        assertWithMsg(</span>
 130 |     | <span class='unexecuted'>            r == false,</span>
 131 |     | <span class='neutral'>            &quot;Successful transferFrom for more than account balance&quot;</span>
 132 |     | <span class='neutral'>        );</span>
 133 |     | <span class='unexecuted'>        assertEq(</span>
 134 |     | <span class='unexecuted'>            token.balanceOf(msg.sender),</span>
 135 |     | <span class='unexecuted'>            balance_sender,</span>
 136 |     | <span class='neutral'>            &quot;TransferFrom for more than balance modified source balance&quot;</span>
 137 |     | <span class='neutral'>        );</span>
 138 |     | <span class='unexecuted'>        assertEq(</span>
 139 |     | <span class='unexecuted'>            token.balanceOf(target),</span>
 140 |     | <span class='unexecuted'>            balance_receiver,</span>
 141 |     | <span class='neutral'>            &quot;TransferFrom for more than balance modified target balance&quot;</span>
 142 |     | <span class='neutral'>        );</span>
 143 |     | <span class='neutral'>    }</span>
 144 |     | <span class='neutral'></span>
 145 |     | <span class='neutral'>    // Transfers for more than available balance should not be allowed</span>
 146 | *   | <span class='executed'>    function test_ERC20external_transferMoreThanBalance(address target) public {</span>
 147 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(address(this));</span>
 148 | *   | <span class='executed'>        uint256 balance_receiver = token.balanceOf(target);</span>
 149 | *r  | <span class='executed'>        require(balance_sender &gt; 0);</span>
 150 |     | <span class='neutral'></span>
 151 | *r  | <span class='executed'>        bool r = token.transfer(target, balance_sender + 1);</span>
 152 |     | <span class='unexecuted'>        assertWithMsg(</span>
 153 |     | <span class='unexecuted'>            r == false,</span>
 154 |     | <span class='neutral'>            &quot;Successful transfer for more than account balance&quot;</span>
 155 |     | <span class='neutral'>        );</span>
 156 |     | <span class='unexecuted'>        assertEq(</span>
 157 |     | <span class='unexecuted'>            token.balanceOf(address(this)),</span>
 158 |     | <span class='unexecuted'>            balance_sender,</span>
 159 |     | <span class='neutral'>            &quot;Transfer for more than balance modified source balance&quot;</span>
 160 |     | <span class='neutral'>        );</span>
 161 |     | <span class='unexecuted'>        assertEq(</span>
 162 |     | <span class='unexecuted'>            token.balanceOf(target),</span>
 163 |     | <span class='unexecuted'>            balance_receiver,</span>
 164 |     | <span class='neutral'>            &quot;Transfer for more than balance modified target balance&quot;</span>
 165 |     | <span class='neutral'>        );</span>
 166 |     | <span class='neutral'>    }</span>
 167 |     | <span class='neutral'></span>
 168 |     | <span class='neutral'>    // Zero amount transfers should not break accounting</span>
 169 | *   | <span class='executed'>    function test_ERC20external_transferZeroAmount(address target) public {</span>
 170 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(address(this));</span>
 171 | *   | <span class='executed'>        uint256 balance_receiver = token.balanceOf(target);</span>
 172 | *r  | <span class='executed'>        require(balance_sender &gt; 0);</span>
 173 |     | <span class='neutral'></span>
 174 | *r  | <span class='executed'>        bool r = token.transfer(target, 0);</span>
 175 | *   | <span class='executed'>        assertWithMsg(r == true, &quot;Zero amount transfer failed&quot;);</span>
 176 | *   | <span class='executed'>        assertEq(</span>
 177 | *   | <span class='executed'>            token.balanceOf(address(this)),</span>
 178 | *   | <span class='executed'>            balance_sender,</span>
 179 |     | <span class='neutral'>            &quot;Zero amount transfer modified source balance&quot;</span>
 180 |     | <span class='neutral'>        );</span>
 181 | *   | <span class='executed'>        assertEq(</span>
 182 | *   | <span class='executed'>            token.balanceOf(target),</span>
 183 | *   | <span class='executed'>            balance_receiver,</span>
 184 |     | <span class='neutral'>            &quot;Zero amount transfer modified target balance&quot;</span>
 185 |     | <span class='neutral'>        );</span>
 186 |     | <span class='neutral'>    }</span>
 187 |     | <span class='neutral'></span>
 188 |     | <span class='neutral'>    // Zero amount transfers should not break accounting</span>
 189 | *   | <span class='executed'>    function test_ERC20external_transferFromZeroAmount(address target) public {</span>
 190 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(msg.sender);</span>
 191 | *   | <span class='executed'>        uint256 balance_receiver = token.balanceOf(target);</span>
 192 | *   | <span class='executed'>        uint256 allowance = token.allowance(msg.sender, address(this));</span>
 193 | *r  | <span class='executed'>        require(balance_sender &gt; 0 &amp;&amp; allowance &gt; 0);</span>
 194 |     | <span class='neutral'></span>
 195 | *r  | <span class='executed'>        bool r = token.transferFrom(msg.sender, target, 0);</span>
 196 | *   | <span class='executed'>        assertWithMsg(r == true, &quot;Zero amount transferFrom failed&quot;);</span>
 197 | *   | <span class='executed'>        assertEq(</span>
 198 | *   | <span class='executed'>            token.balanceOf(msg.sender),</span>
 199 | *   | <span class='executed'>            balance_sender,</span>
 200 |     | <span class='neutral'>            &quot;Zero amount transferFrom modified source balance&quot;</span>
 201 |     | <span class='neutral'>        );</span>
 202 | *   | <span class='executed'>        assertEq(</span>
 203 | *   | <span class='executed'>            token.balanceOf(target),</span>
 204 | *   | <span class='executed'>            balance_receiver,</span>
 205 |     | <span class='neutral'>            &quot;Zero amount transferFrom modified target balance&quot;</span>
 206 |     | <span class='neutral'>        );</span>
 207 |     | <span class='neutral'>    }</span>
 208 |     | <span class='neutral'></span>
 209 |     | <span class='neutral'>    // Transfers should update accounting correctly</span>
 210 | *   | <span class='executed'>    function test_ERC20external_transfer(</span>
 211 |     | <span class='neutral'>        address target,</span>
 212 |     | <span class='neutral'>        uint256 amount</span>
 213 | *   | <span class='executed'>    ) public {</span>
 214 | *r  | <span class='executed'>        require(target != address(this));</span>
 215 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(address(this));</span>
 216 | *   | <span class='executed'>        uint256 balance_receiver = token.balanceOf(target);</span>
 217 | *r  | <span class='executed'>        require(balance_sender &gt; 2);</span>
 218 | *   | <span class='executed'>        uint256 transfer_value = (amount % balance_sender) + 1;</span>
 219 |     | <span class='neutral'></span>
 220 | *r  | <span class='executed'>        bool r = token.transfer(target, transfer_value);</span>
 221 | *   | <span class='executed'>        assertWithMsg(r == true, &quot;transfer failed&quot;);</span>
 222 | *   | <span class='executed'>        assertEq(</span>
 223 | *   | <span class='executed'>            token.balanceOf(address(this)),</span>
 224 | *   | <span class='executed'>            balance_sender - transfer_value,</span>
 225 |     | <span class='neutral'>            &quot;Wrong source balance after transfer&quot;</span>
 226 |     | <span class='neutral'>        );</span>
 227 | *   | <span class='executed'>        assertEq(</span>
 228 | *   | <span class='executed'>            token.balanceOf(target),</span>
 229 | *   | <span class='executed'>            balance_receiver + transfer_value,</span>
 230 |     | <span class='neutral'>            &quot;Wrong target balance after transfer&quot;</span>
 231 |     | <span class='neutral'>        );</span>
 232 |     | <span class='neutral'>    }</span>
 233 |     | <span class='neutral'></span>
 234 |     | <span class='neutral'>    // Transfers should update accounting correctly</span>
 235 | *   | <span class='executed'>    function test_ERC20external_transferFrom(</span>
 236 |     | <span class='neutral'>        address target,</span>
 237 |     | <span class='neutral'>        uint256 amount</span>
 238 | *   | <span class='executed'>    ) public {</span>
 239 | *r  | <span class='executed'>        require(target != address(this));</span>
 240 | *r  | <span class='executed'>        require(target != msg.sender);</span>
 241 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(msg.sender);</span>
 242 | *   | <span class='executed'>        uint256 balance_receiver = token.balanceOf(target);</span>
 243 | *   | <span class='executed'>        uint256 allowance = token.allowance(msg.sender, address(this));</span>
 244 | *r  | <span class='executed'>        require(balance_sender &gt; 2 &amp;&amp; allowance &gt; balance_sender);</span>
 245 | *   | <span class='executed'>        uint256 transfer_value = (amount % balance_sender) + 1;</span>
 246 |     | <span class='neutral'></span>
 247 | *r  | <span class='executed'>        bool r = token.transferFrom(msg.sender, target, transfer_value);</span>
 248 | *   | <span class='executed'>        assertWithMsg(r == true, &quot;transfer failed&quot;);</span>
 249 | *   | <span class='executed'>        assertEq(</span>
 250 | *   | <span class='executed'>            token.balanceOf(msg.sender),</span>
 251 | *   | <span class='executed'>            balance_sender - transfer_value,</span>
 252 |     | <span class='neutral'>            &quot;Wrong source balance after transferFrom&quot;</span>
 253 |     | <span class='neutral'>        );</span>
 254 | *   | <span class='executed'>        assertEq(</span>
 255 | *   | <span class='executed'>            token.balanceOf(target),</span>
 256 | *   | <span class='executed'>            balance_receiver + transfer_value,</span>
 257 |     | <span class='neutral'>            &quot;Wrong target balance after transferFrom&quot;</span>
 258 |     | <span class='neutral'>        );</span>
 259 |     | <span class='neutral'>    }</span>
 260 |     | <span class='neutral'></span>
 261 |     | <span class='neutral'>    // Approve should set correct allowances</span>
 262 | *   | <span class='executed'>    function test_ERC20external_setAllowance(</span>
 263 |     | <span class='neutral'>        address target,</span>
 264 |     | <span class='neutral'>        uint256 amount</span>
 265 |     | <span class='neutral'>    ) public {</span>
 266 | *r  | <span class='executed'>        bool r = token.approve(target, amount);</span>
 267 | *   | <span class='executed'>        assertWithMsg(r == true, &quot;Failed to set allowance via approve&quot;);</span>
 268 | *   | <span class='executed'>        assertEq(</span>
 269 | *   | <span class='executed'>            token.allowance(address(this), target),</span>
 270 |     | <span class='neutral'>            amount,</span>
 271 |     | <span class='neutral'>            &quot;Allowance not set correctly&quot;</span>
 272 |     | <span class='neutral'>        );</span>
 273 |     | <span class='neutral'>    }</span>
 274 |     | <span class='neutral'></span>
 275 |     | <span class='neutral'>    // Approve should set correct allowances</span>
 276 | *   | <span class='executed'>    function test_ERC20external_setAllowanceTwice(</span>
 277 |     | <span class='neutral'>        address target,</span>
 278 |     | <span class='neutral'>        uint256 amount</span>
 279 | *   | <span class='executed'>    ) public {</span>
 280 | *r  | <span class='executed'>        bool r = token.approve(target, amount);</span>
 281 | *   | <span class='executed'>        assertWithMsg(r == true, &quot;Failed to set allowance via approve&quot;);</span>
 282 | *   | <span class='executed'>        assertEq(</span>
 283 | *   | <span class='executed'>            token.allowance(address(this), target),</span>
 284 | *   | <span class='executed'>            amount,</span>
 285 |     | <span class='neutral'>            &quot;Allowance not set correctly&quot;</span>
 286 |     | <span class='neutral'>        );</span>
 287 |     | <span class='neutral'></span>
 288 | *   | <span class='executed'>        r = token.approve(target, amount / 2);</span>
 289 | *   | <span class='executed'>        assertWithMsg(r == true, &quot;Failed to set allowance via approve&quot;);</span>
 290 | *   | <span class='executed'>        assertEq(</span>
 291 | *   | <span class='executed'>            token.allowance(address(this), target),</span>
 292 | *   | <span class='executed'>            amount / 2,</span>
 293 |     | <span class='neutral'>            &quot;Allowance not set correctly&quot;</span>
 294 |     | <span class='neutral'>        );</span>
 295 |     | <span class='neutral'>    }</span>
 296 |     | <span class='neutral'></span>
 297 |     | <span class='neutral'>    // TransferFrom should decrease allowance</span>
 298 | *   | <span class='executed'>    function test_ERC20external_spendAllowanceAfterTransfer(</span>
 299 |     | <span class='neutral'>        address target,</span>
 300 |     | <span class='neutral'>        uint256 amount</span>
 301 |     | <span class='neutral'>    ) public {</span>
 302 | *r  | <span class='executed'>        require(target != address(this) &amp;&amp; target != address(0));</span>
 303 | *r  | <span class='executed'>        require(target != msg.sender);</span>
 304 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(msg.sender);</span>
 305 | *   | <span class='executed'>        uint256 current_allowance = token.allowance(msg.sender, address(this));</span>
 306 | *r  | <span class='executed'>        require(balance_sender &gt; 0 &amp;&amp; current_allowance &gt; balance_sender);</span>
 307 | *   | <span class='executed'>        uint256 transfer_value = (amount % balance_sender) + 1;</span>
 308 |     | <span class='neutral'></span>
 309 | *   | <span class='executed'>        bool r = token.transferFrom(msg.sender, target, transfer_value);</span>
 310 | *   | <span class='executed'>        assertWithMsg(r == true, &quot;transferFrom failed&quot;);</span>
 311 |     | <span class='neutral'></span>
 312 |     | <span class='neutral'>        // Some implementations take an allowance of 2**256-1 as infinite, and therefore don&#39;t update</span>
 313 | *   | <span class='executed'>        if (current_allowance != type(uint256).max) {</span>
 314 | *   | <span class='executed'>            assertEq(</span>
 315 | *   | <span class='executed'>                token.allowance(msg.sender, address(this)),</span>
 316 | *   | <span class='executed'>                current_allowance - transfer_value,</span>
 317 |     | <span class='neutral'>                &quot;Allowance not updated correctly&quot;</span>
 318 |     | <span class='neutral'>            );</span>
 319 |     | <span class='neutral'>        }</span>
 320 |     | <span class='neutral'>    }</span>
 321 |     | <span class='neutral'>}</span>
 322 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/properties/contracts/ERC20/external/properties/ERC20ExternalBurnableProperties.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: AGPL-3.0-or-later</span>
  2 |     | <span class='neutral'>pragma solidity ^0.8.0;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import &quot;../util/ERC20ExternalTestBase.sol&quot;;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>abstract contract CryticERC20ExternalBurnableProperties is</span>
  7 |     | <span class='neutral'>    CryticERC20ExternalTestBase</span>
  8 |     | <span class='neutral'>{</span>
  9 |     | <span class='neutral'>    constructor() {}</span>
 10 |     | <span class='neutral'></span>
 11 |     | <span class='neutral'>    ////////////////////////////////////////</span>
 12 |     | <span class='neutral'>    // Properties</span>
 13 |     | <span class='neutral'></span>
 14 |     | <span class='neutral'>    // Burn should update user balance and total supply</span>
 15 | *   | <span class='executed'>    function test_ERC20external_burn(uint256 amount) public {</span>
 16 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(address(this));</span>
 17 | *   | <span class='executed'>        uint256 supply = token.totalSupply();</span>
 18 | *r  | <span class='executed'>        require(balance_sender &gt; 0);</span>
 19 | *   | <span class='executed'>        uint256 burn_amount = amount % (balance_sender + 1);</span>
 20 |     | <span class='neutral'></span>
 21 | *   | <span class='executed'>        token.burn(burn_amount);</span>
 22 | *   | <span class='executed'>        assertEq(</span>
 23 | *   | <span class='executed'>            token.balanceOf(address(this)),</span>
 24 | *   | <span class='executed'>            balance_sender - burn_amount,</span>
 25 |     | <span class='neutral'>            &quot;Source balance incorrect after burn&quot;</span>
 26 |     | <span class='neutral'>        );</span>
 27 | *   | <span class='executed'>        assertEq(</span>
 28 | *   | <span class='executed'>            token.totalSupply(),</span>
 29 | *   | <span class='executed'>            supply - burn_amount,</span>
 30 |     | <span class='neutral'>            &quot;Total supply incorrect after burn&quot;</span>
 31 |     | <span class='neutral'>        );</span>
 32 |     | <span class='neutral'>    }</span>
 33 |     | <span class='neutral'></span>
 34 |     | <span class='neutral'>    // Burn should update user balance and total supply</span>
 35 | *   | <span class='executed'>    function test_ERC20external_burnFrom(uint256 amount) public {</span>
 36 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(msg.sender);</span>
 37 | *   | <span class='executed'>        uint256 allowance = token.allowance(msg.sender, address(this));</span>
 38 | *r  | <span class='executed'>        require(balance_sender &gt; 0 &amp;&amp; allowance &gt; balance_sender);</span>
 39 | *   | <span class='executed'>        uint256 supply = token.totalSupply();</span>
 40 | *   | <span class='executed'>        uint256 burn_amount = amount % (balance_sender + 1);</span>
 41 |     | <span class='neutral'></span>
 42 | *   | <span class='executed'>        token.burnFrom(msg.sender, burn_amount);</span>
 43 | *   | <span class='executed'>        assertEq(</span>
 44 | *   | <span class='executed'>            token.balanceOf(msg.sender),</span>
 45 | *   | <span class='executed'>            balance_sender - burn_amount,</span>
 46 |     | <span class='neutral'>            &quot;Source balance incorrect after burnFrom&quot;</span>
 47 |     | <span class='neutral'>        );</span>
 48 | *   | <span class='executed'>        assertEq(</span>
 49 | *   | <span class='executed'>            token.totalSupply(),</span>
 50 | *   | <span class='executed'>            supply - burn_amount,</span>
 51 |     | <span class='neutral'>            &quot;Total supply incorrect after burnFrom&quot;</span>
 52 |     | <span class='neutral'>        );</span>
 53 |     | <span class='neutral'>    }</span>
 54 |     | <span class='neutral'></span>
 55 |     | <span class='neutral'>    // burnFrom should update allowance</span>
 56 | *   | <span class='executed'>    function test_ERC20external_burnFromUpdateAllowance(uint256 amount) public {</span>
 57 | *   | <span class='executed'>        uint256 balance_sender = token.balanceOf(msg.sender);</span>
 58 | *   | <span class='executed'>        uint256 current_allowance = token.allowance(msg.sender, address(this));</span>
 59 | *r  | <span class='executed'>        require(balance_sender &gt; 0 &amp;&amp; current_allowance &gt; balance_sender);</span>
 60 | *   | <span class='executed'>        uint256 burn_amount = amount % (balance_sender + 1);</span>
 61 |     | <span class='neutral'></span>
 62 | *   | <span class='executed'>        token.burnFrom(msg.sender, burn_amount);</span>
 63 |     | <span class='neutral'></span>
 64 |     | <span class='neutral'>        // Some implementations take an allowance of 2**256-1 as infinite, and therefore don&#39;t update</span>
 65 | *   | <span class='executed'>        if (current_allowance != type(uint256).max) {</span>
 66 | *   | <span class='executed'>            assertEq(</span>
 67 | *   | <span class='executed'>                token.allowance(msg.sender, address(this)),</span>
 68 | *   | <span class='executed'>                current_allowance - burn_amount,</span>
 69 |     | <span class='neutral'>                &quot;Allowance not updated correctly&quot;</span>
 70 |     | <span class='neutral'>            );</span>
 71 |     | <span class='neutral'>        }</span>
 72 |     | <span class='neutral'>    }</span>
 73 |     | <span class='neutral'>}</span>
 74 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/properties/contracts/ERC20/external/properties/ERC20ExternalMintableProperties.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: AGPL-3.0-or-later</span>
  2 |     | <span class='neutral'>pragma solidity ^0.8.0;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import &quot;../util/ERC20ExternalTestBase.sol&quot;;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>abstract contract CryticERC20ExternalMintableProperties is</span>
  7 |     | <span class='neutral'>    CryticERC20ExternalTestBase</span>
  8 |     | <span class='neutral'>{</span>
  9 |     | <span class='neutral'>    constructor() {}</span>
 10 |     | <span class='neutral'></span>
 11 |     | <span class='neutral'>    ////////////////////////////////////////</span>
 12 |     | <span class='neutral'>    // Properties</span>
 13 |     | <span class='neutral'></span>
 14 |     | <span class='neutral'>    // Minting tokens should update user balance and total supply</span>
 15 | *   | <span class='executed'>    function test_ERC20external_mintTokens(</span>
 16 |     | <span class='neutral'>        address target,</span>
 17 |     | <span class='neutral'>        uint256 amount</span>
 18 |     | <span class='neutral'>    ) public {</span>
 19 | *   | <span class='executed'>        uint256 balance_receiver = token.balanceOf(target);</span>
 20 | *   | <span class='executed'>        uint256 supply = token.totalSupply();</span>
 21 |     | <span class='neutral'></span>
 22 | *r  | <span class='executed'>        token.mint(target, amount);</span>
 23 | *   | <span class='executed'>        assertEq(</span>
 24 | *   | <span class='executed'>            token.balanceOf(target),</span>
 25 | *   | <span class='executed'>            balance_receiver + amount,</span>
 26 |     | <span class='neutral'>            &quot;Mint failed to update target balance&quot;</span>
 27 |     | <span class='neutral'>        );</span>
 28 | *   | <span class='executed'>        assertEq(</span>
 29 | *   | <span class='executed'>            token.totalSupply(),</span>
 30 | *   | <span class='executed'>            supply + amount,</span>
 31 |     | <span class='neutral'>            &quot;Mint failed to update total supply&quot;</span>
 32 |     | <span class='neutral'>        );</span>
 33 |     | <span class='neutral'>    }</span>
 34 |     | <span class='neutral'>}</span>
 35 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/properties/contracts/ERC20/external/util/ERC20ExternalTestBase.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: AGPL-3.0-or-later</span>
  2 |     | <span class='neutral'>pragma solidity ^0.8.0;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import &quot;../../../util/PropertiesHelper.sol&quot;;</span>
  5 |     | <span class='neutral'>import &quot;./ITokenMock.sol&quot;;</span>
  6 |     | <span class='neutral'>import &quot;../../../util/PropertiesConstants.sol&quot;;</span>
  7 |     | <span class='neutral'></span>
  8 |     | <span class='neutral'>abstract contract CryticERC20ExternalTestBase is</span>
  9 |     | <span class='neutral'>    PropertiesAsserts,</span>
 10 |     | <span class='neutral'>    PropertiesConstants</span>
 11 |     | <span class='neutral'>{</span>
 12 |     | <span class='neutral'>    ITokenMock token;</span>
 13 |     | <span class='neutral'></span>
 14 |     | <span class='neutral'>    constructor() {}</span>
 15 |     | <span class='neutral'>}</span>
 16 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/properties/contracts/ERC20/external/util/ITokenMock.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: AGPL-3.0-or-later</span>
  2 |     | <span class='neutral'>pragma solidity ^0.8.0;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import &quot;../../../util/IERC20.sol&quot;;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>interface ITokenMock is IERC20 {</span>
  7 |     | <span class='neutral'>    function isMintableOrBurnable() external returns (bool);</span>
  8 |     | <span class='neutral'></span>
  9 |     | <span class='neutral'>    function initialSupply() external returns (uint256);</span>
 10 |     | <span class='neutral'></span>
 11 |     | <span class='neutral'>    function burn(uint256) external;</span>
 12 |     | <span class='neutral'></span>
 13 |     | <span class='neutral'>    function burnFrom(address, uint256) external;</span>
 14 |     | <span class='neutral'></span>
 15 |     | <span class='neutral'>    function mint(address, uint256) external;</span>
 16 |     | <span class='neutral'></span>
 17 |     | <span class='neutral'>    function pause() external;</span>
 18 |     | <span class='neutral'></span>
 19 |     | <span class='neutral'>    function unpause() external;</span>
 20 |     | <span class='neutral'></span>
 21 |     | <span class='neutral'>    function paused() external returns (bool);</span>
 22 |     | <span class='neutral'></span>
 23 |     | <span class='neutral'>    function owner() external returns (address);</span>
 24 |     | <span class='neutral'></span>
 25 |     | <span class='neutral'>    function increaseAllowance(address, uint256) external returns (bool);</span>
 26 |     | <span class='neutral'></span>
 27 |     | <span class='neutral'>    function decreaseAllowance(address, uint256) external returns (bool);</span>
 28 |     | <span class='neutral'>}</span>
 29 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/properties/contracts/util/IERC20.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity ^0.8.0;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>interface IERC20 {</span>
  5 |     | <span class='neutral'>    /**</span>
  6 |     | <span class='neutral'>     * @dev Emitted when `value` tokens are moved from one account (`from`) to</span>
  7 |     | <span class='neutral'>     * another (`to`).</span>
  8 |     | <span class='neutral'>     *</span>
  9 |     | <span class='neutral'>     * Note that `value` may be zero.</span>
 10 |     | <span class='neutral'>     */</span>
 11 |     | <span class='neutral'>    event Transfer(address indexed from, address indexed to, uint256 value);</span>
 12 |     | <span class='neutral'></span>
 13 |     | <span class='neutral'>    /**</span>
 14 |     | <span class='neutral'>     * @dev Emitted when the allowance of a `spender` for an `owner` is set by</span>
 15 |     | <span class='neutral'>     * a call to {approve}. `value` is the new allowance.</span>
 16 |     | <span class='neutral'>     */</span>
 17 |     | <span class='neutral'>    event Approval(</span>
 18 |     | <span class='neutral'>        address indexed owner,</span>
 19 |     | <span class='neutral'>        address indexed spender,</span>
 20 |     | <span class='neutral'>        uint256 value</span>
 21 |     | <span class='neutral'>    );</span>
 22 |     | <span class='neutral'></span>
 23 |     | <span class='neutral'>    /**</span>
 24 |     | <span class='neutral'>     * @dev Returns the amount of tokens in existence.</span>
 25 |     | <span class='neutral'>     */</span>
 26 |     | <span class='neutral'>    function totalSupply() external view returns (uint256);</span>
 27 |     | <span class='neutral'></span>
 28 |     | <span class='neutral'>    /**</span>
 29 |     | <span class='neutral'>     * @dev Returns the amount of tokens owned by `account`.</span>
 30 |     | <span class='neutral'>     */</span>
 31 |     | <span class='neutral'>    function balanceOf(address account) external view returns (uint256);</span>
 32 |     | <span class='neutral'></span>
 33 |     | <span class='neutral'>    /**</span>
 34 |     | <span class='neutral'>     * @dev Moves `amount` tokens from the caller&#39;s account to `to`.</span>
 35 |     | <span class='neutral'>     *</span>
 36 |     | <span class='neutral'>     * Returns a boolean value indicating whether the operation succeeded.</span>
 37 |     | <span class='neutral'>     *</span>
 38 |     | <span class='neutral'>     * Emits a {Transfer} event.</span>
 39 |     | <span class='neutral'>     */</span>
 40 |     | <span class='neutral'>    function transfer(address to, uint256 amount) external returns (bool);</span>
 41 |     | <span class='neutral'></span>
 42 |     | <span class='neutral'>    /**</span>
 43 |     | <span class='neutral'>     * @dev Returns the remaining number of tokens that `spender` will be</span>
 44 |     | <span class='neutral'>     * allowed to spend on behalf of `owner` through {transferFrom}. This is</span>
 45 |     | <span class='neutral'>     * zero by default.</span>
 46 |     | <span class='neutral'>     *</span>
 47 |     | <span class='neutral'>     * This value changes when {approve} or {transferFrom} are called.</span>
 48 |     | <span class='neutral'>     */</span>
 49 |     | <span class='neutral'>    function allowance(</span>
 50 |     | <span class='neutral'>        address owner,</span>
 51 |     | <span class='neutral'>        address spender</span>
 52 |     | <span class='neutral'>    ) external view returns (uint256);</span>
 53 |     | <span class='neutral'></span>
 54 |     | <span class='neutral'>    /**</span>
 55 |     | <span class='neutral'>     * @dev Sets `amount` as the allowance of `spender` over the caller&#39;s tokens.</span>
 56 |     | <span class='neutral'>     *</span>
 57 |     | <span class='neutral'>     * Returns a boolean value indicating whether the operation succeeded.</span>
 58 |     | <span class='neutral'>     *</span>
 59 |     | <span class='neutral'>     * IMPORTANT: Beware that changing an allowance with this method brings the risk</span>
 60 |     | <span class='neutral'>     * that someone may use both the old and the new allowance by unfortunate</span>
 61 |     | <span class='neutral'>     * transaction ordering. One possible solution to mitigate this race</span>
 62 |     | <span class='neutral'>     * condition is to first reduce the spender&#39;s allowance to 0 and set the</span>
 63 |     | <span class='neutral'>     * desired value afterwards:</span>
 64 |     | <span class='neutral'>     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729</span>
 65 |     | <span class='neutral'>     *</span>
 66 |     | <span class='neutral'>     * Emits an {Approval} event.</span>
 67 |     | <span class='neutral'>     */</span>
 68 |     | <span class='neutral'>    function approve(address spender, uint256 amount) external returns (bool);</span>
 69 |     | <span class='neutral'></span>
 70 |     | <span class='neutral'>    /**</span>
 71 |     | <span class='neutral'>     * @dev Moves `amount` tokens from `from` to `to` using the</span>
 72 |     | <span class='neutral'>     * allowance mechanism. `amount` is then deducted from the caller&#39;s</span>
 73 |     | <span class='neutral'>     * allowance.</span>
 74 |     | <span class='neutral'>     *</span>
 75 |     | <span class='neutral'>     * Returns a boolean value indicating whether the operation succeeded.</span>
 76 |     | <span class='neutral'>     *</span>
 77 |     | <span class='neutral'>     * Emits a {Transfer} event.</span>
 78 |     | <span class='neutral'>     */</span>
 79 |     | <span class='neutral'>    function transferFrom(</span>
 80 |     | <span class='neutral'>        address from,</span>
 81 |     | <span class='neutral'>        address to,</span>
 82 |     | <span class='neutral'>        uint256 amount</span>
 83 |     | <span class='neutral'>    ) external returns (bool);</span>
 84 |     | <span class='neutral'></span>
 85 |     | <span class='neutral'>    function decimals() external returns (uint8);</span>
 86 |     | <span class='neutral'>}</span>
 87 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/properties/contracts/util/PropertiesConstants.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: AGPL-3.0-or-later</span>
  2 |     | <span class='neutral'>pragma solidity ^0.8.0;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>abstract contract PropertiesConstants {</span>
  5 |     | <span class='neutral'>    // Constant echidna addresses</span>
  6 | *   | <span class='executed'>    address constant USER1 = address(0x10000);</span>
  7 | *   | <span class='executed'>    address constant USER2 = address(0x20000);</span>
  8 | *   | <span class='executed'>    address constant USER3 = address(0x30000);</span>
  9 | *   | <span class='executed'>    uint256 constant INITIAL_BALANCE = 1000e18;</span>
 10 |     | <span class='neutral'>}</span>
 11 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/lib/properties/contracts/util/PropertiesHelper.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: AGPL-3.0-or-later</span>
   2 |     | <span class='neutral'>pragma solidity ^0.8.0;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>abstract contract PropertiesAsserts {</span>
   5 |     | <span class='neutral'>    event LogUint256(string, uint256);</span>
   6 |     | <span class='neutral'>    event LogAddress(string, address);</span>
   7 |     | <span class='neutral'>    event LogString(string);</span>
   8 |     | <span class='neutral'></span>
   9 |     | <span class='neutral'>    event AssertFail(string);</span>
  10 |     | <span class='neutral'>    event AssertEqFail(string);</span>
  11 |     | <span class='neutral'>    event AssertNeqFail(string);</span>
  12 |     | <span class='neutral'>    event AssertGteFail(string);</span>
  13 |     | <span class='neutral'>    event AssertGtFail(string);</span>
  14 |     | <span class='neutral'>    event AssertLteFail(string);</span>
  15 |     | <span class='neutral'>    event AssertLtFail(string);</span>
  16 |     | <span class='neutral'></span>
  17 | *   | <span class='executed'>    function assertWithMsg(bool b, string memory reason) internal {</span>
  18 | *   | <span class='executed'>        if (!b) {</span>
  19 |     | <span class='unexecuted'>            emit AssertFail(reason);</span>
  20 |     | <span class='unexecuted'>            assert(false);</span>
  21 |     | <span class='neutral'>        }</span>
  22 |     | <span class='neutral'>    }</span>
  23 |     | <span class='neutral'></span>
  24 |     | <span class='neutral'>    /// @notice asserts that a is equal to b. Violations are logged using reason.</span>
  25 | *   | <span class='executed'>    function assertEq(uint256 a, uint256 b, string memory reason) internal {</span>
  26 | *   | <span class='executed'>        if (a != b) {</span>
  27 | *   | <span class='executed'>            string memory aStr = PropertiesLibString.toString(a);</span>
  28 | *   | <span class='executed'>            string memory bStr = PropertiesLibString.toString(b);</span>
  29 | *   | <span class='executed'>            bytes memory assertMsg = abi.encodePacked(</span>
  30 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
  31 | *   | <span class='executed'>                aStr,</span>
  32 |     | <span class='neutral'>                &quot;!=&quot;,</span>
  33 | *   | <span class='executed'>                bStr,</span>
  34 |     | <span class='neutral'>                &quot;, reason: &quot;,</span>
  35 | *   | <span class='executed'>                reason</span>
  36 |     | <span class='neutral'>            );</span>
  37 | *   | <span class='executed'>            emit AssertEqFail(string(assertMsg));</span>
  38 |     | <span class='neutral'>            assert(false);</span>
  39 |     | <span class='neutral'>        }</span>
  40 |     | <span class='neutral'>    }</span>
  41 |     | <span class='neutral'></span>
  42 |     | <span class='neutral'>    /// @notice int256 version of assertEq</span>
  43 |     | <span class='neutral'>    function assertEq(int256 a, int256 b, string memory reason) internal {</span>
  44 |     | <span class='neutral'>        if (a != b) {</span>
  45 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
  46 |     | <span class='neutral'>            string memory bStr = PropertiesLibString.toString(b);</span>
  47 |     | <span class='neutral'>            bytes memory assertMsg = abi.encodePacked(</span>
  48 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
  49 |     | <span class='neutral'>                aStr,</span>
  50 |     | <span class='neutral'>                &quot;!=&quot;,</span>
  51 |     | <span class='neutral'>                bStr,</span>
  52 |     | <span class='neutral'>                &quot;, reason: &quot;,</span>
  53 |     | <span class='neutral'>                reason</span>
  54 |     | <span class='neutral'>            );</span>
  55 |     | <span class='neutral'>            emit AssertEqFail(string(assertMsg));</span>
  56 |     | <span class='neutral'>            assert(false);</span>
  57 |     | <span class='neutral'>        }</span>
  58 |     | <span class='neutral'>    }</span>
  59 |     | <span class='neutral'></span>
  60 |     | <span class='neutral'>    /// @notice asserts that a is not equal to b. Violations are logged using reason.</span>
  61 |     | <span class='neutral'>    function assertNeq(uint256 a, uint256 b, string memory reason) internal {</span>
  62 |     | <span class='neutral'>        if (a == b) {</span>
  63 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
  64 |     | <span class='neutral'>            string memory bStr = PropertiesLibString.toString(b);</span>
  65 |     | <span class='neutral'>            bytes memory assertMsg = abi.encodePacked(</span>
  66 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
  67 |     | <span class='neutral'>                aStr,</span>
  68 |     | <span class='neutral'>                &quot;==&quot;,</span>
  69 |     | <span class='neutral'>                bStr,</span>
  70 |     | <span class='neutral'>                &quot;, reason: &quot;,</span>
  71 |     | <span class='neutral'>                reason</span>
  72 |     | <span class='neutral'>            );</span>
  73 |     | <span class='neutral'>            emit AssertNeqFail(string(assertMsg));</span>
  74 |     | <span class='neutral'>            assert(false);</span>
  75 |     | <span class='neutral'>        }</span>
  76 |     | <span class='neutral'>    }</span>
  77 |     | <span class='neutral'></span>
  78 |     | <span class='neutral'>    /// @notice int256 version of assertNeq</span>
  79 |     | <span class='neutral'>    function assertNeq(int256 a, int256 b, string memory reason) internal {</span>
  80 |     | <span class='neutral'>        if (a == b) {</span>
  81 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
  82 |     | <span class='neutral'>            string memory bStr = PropertiesLibString.toString(b);</span>
  83 |     | <span class='neutral'>            bytes memory assertMsg = abi.encodePacked(</span>
  84 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
  85 |     | <span class='neutral'>                aStr,</span>
  86 |     | <span class='neutral'>                &quot;==&quot;,</span>
  87 |     | <span class='neutral'>                bStr,</span>
  88 |     | <span class='neutral'>                &quot;, reason: &quot;,</span>
  89 |     | <span class='neutral'>                reason</span>
  90 |     | <span class='neutral'>            );</span>
  91 |     | <span class='neutral'>            emit AssertNeqFail(string(assertMsg));</span>
  92 |     | <span class='neutral'>            assert(false);</span>
  93 |     | <span class='neutral'>        }</span>
  94 |     | <span class='neutral'>    }</span>
  95 |     | <span class='neutral'></span>
  96 |     | <span class='neutral'>    /// @notice asserts that a is greater than or equal to b. Violations are logged using reason.</span>
  97 |     | <span class='neutral'>    function assertGte(uint256 a, uint256 b, string memory reason) internal {</span>
  98 |     | <span class='neutral'>        if (!(a &gt;= b)) {</span>
  99 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 100 |     | <span class='neutral'>            string memory bStr = PropertiesLibString.toString(b);</span>
 101 |     | <span class='neutral'>            bytes memory assertMsg = abi.encodePacked(</span>
 102 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
 103 |     | <span class='neutral'>                aStr,</span>
 104 |     | <span class='neutral'>                &quot;&lt;&quot;,</span>
 105 |     | <span class='neutral'>                bStr,</span>
 106 |     | <span class='neutral'>                &quot; failed, reason: &quot;,</span>
 107 |     | <span class='neutral'>                reason</span>
 108 |     | <span class='neutral'>            );</span>
 109 |     | <span class='neutral'>            emit AssertGteFail(string(assertMsg));</span>
 110 |     | <span class='neutral'>            assert(false);</span>
 111 |     | <span class='neutral'>        }</span>
 112 |     | <span class='neutral'>    }</span>
 113 |     | <span class='neutral'></span>
 114 |     | <span class='neutral'>    /// @notice int256 version of assertGte</span>
 115 |     | <span class='neutral'>    function assertGte(int256 a, int256 b, string memory reason) internal {</span>
 116 |     | <span class='neutral'>        if (!(a &gt;= b)) {</span>
 117 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 118 |     | <span class='neutral'>            string memory bStr = PropertiesLibString.toString(b);</span>
 119 |     | <span class='neutral'>            bytes memory assertMsg = abi.encodePacked(</span>
 120 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
 121 |     | <span class='neutral'>                aStr,</span>
 122 |     | <span class='neutral'>                &quot;&lt;&quot;,</span>
 123 |     | <span class='neutral'>                bStr,</span>
 124 |     | <span class='neutral'>                &quot; failed, reason: &quot;,</span>
 125 |     | <span class='neutral'>                reason</span>
 126 |     | <span class='neutral'>            );</span>
 127 |     | <span class='neutral'>            emit AssertGteFail(string(assertMsg));</span>
 128 |     | <span class='neutral'>            assert(false);</span>
 129 |     | <span class='neutral'>        }</span>
 130 |     | <span class='neutral'>    }</span>
 131 |     | <span class='neutral'></span>
 132 |     | <span class='neutral'>    /// @notice asserts that a is greater than b. Violations are logged using reason.</span>
 133 |     | <span class='neutral'>    function assertGt(uint256 a, uint256 b, string memory reason) internal {</span>
 134 |     | <span class='neutral'>        if (!(a &gt; b)) {</span>
 135 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 136 |     | <span class='neutral'>            string memory bStr = PropertiesLibString.toString(b);</span>
 137 |     | <span class='neutral'>            bytes memory assertMsg = abi.encodePacked(</span>
 138 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
 139 |     | <span class='neutral'>                aStr,</span>
 140 |     | <span class='neutral'>                &quot;&lt;=&quot;,</span>
 141 |     | <span class='neutral'>                bStr,</span>
 142 |     | <span class='neutral'>                &quot; failed, reason: &quot;,</span>
 143 |     | <span class='neutral'>                reason</span>
 144 |     | <span class='neutral'>            );</span>
 145 |     | <span class='neutral'>            emit AssertGtFail(string(assertMsg));</span>
 146 |     | <span class='neutral'>            assert(false);</span>
 147 |     | <span class='neutral'>        }</span>
 148 |     | <span class='neutral'>    }</span>
 149 |     | <span class='neutral'></span>
 150 |     | <span class='neutral'>    /// @notice int256 version of assertGt</span>
 151 |     | <span class='neutral'>    function assertGt(int256 a, int256 b, string memory reason) internal {</span>
 152 |     | <span class='neutral'>        if (!(a &gt; b)) {</span>
 153 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 154 |     | <span class='neutral'>            string memory bStr = PropertiesLibString.toString(b);</span>
 155 |     | <span class='neutral'>            bytes memory assertMsg = abi.encodePacked(</span>
 156 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
 157 |     | <span class='neutral'>                aStr,</span>
 158 |     | <span class='neutral'>                &quot;&lt;=&quot;,</span>
 159 |     | <span class='neutral'>                bStr,</span>
 160 |     | <span class='neutral'>                &quot; failed, reason: &quot;,</span>
 161 |     | <span class='neutral'>                reason</span>
 162 |     | <span class='neutral'>            );</span>
 163 |     | <span class='neutral'>            emit AssertGtFail(string(assertMsg));</span>
 164 |     | <span class='neutral'>            assert(false);</span>
 165 |     | <span class='neutral'>        }</span>
 166 |     | <span class='neutral'>    }</span>
 167 |     | <span class='neutral'></span>
 168 |     | <span class='neutral'>    /// @notice asserts that a is less than or equal to b. Violations are logged using reason.</span>
 169 | *   | <span class='executed'>    function assertLte(uint256 a, uint256 b, string memory reason) internal {</span>
 170 | *   | <span class='executed'>        if (!(a &lt;= b)) {</span>
 171 |     | <span class='unexecuted'>            string memory aStr = PropertiesLibString.toString(a);</span>
 172 |     | <span class='unexecuted'>            string memory bStr = PropertiesLibString.toString(b);</span>
 173 |     | <span class='unexecuted'>            bytes memory assertMsg = abi.encodePacked(</span>
 174 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
 175 |     | <span class='unexecuted'>                aStr,</span>
 176 |     | <span class='neutral'>                &quot;&gt;&quot;,</span>
 177 |     | <span class='unexecuted'>                bStr,</span>
 178 |     | <span class='neutral'>                &quot; failed, reason: &quot;,</span>
 179 |     | <span class='unexecuted'>                reason</span>
 180 |     | <span class='neutral'>            );</span>
 181 | *   | <span class='executed'>            emit AssertLteFail(string(assertMsg));</span>
 182 | *   | <span class='executed'>            assert(false);</span>
 183 |     | <span class='neutral'>        }</span>
 184 |     | <span class='neutral'>    }</span>
 185 |     | <span class='neutral'></span>
 186 |     | <span class='neutral'>    /// @notice int256 version of assertLte</span>
 187 |     | <span class='neutral'>    function assertLte(int256 a, int256 b, string memory reason) internal {</span>
 188 |     | <span class='neutral'>        if (!(a &lt;= b)) {</span>
 189 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 190 |     | <span class='neutral'>            string memory bStr = PropertiesLibString.toString(b);</span>
 191 |     | <span class='neutral'>            bytes memory assertMsg = abi.encodePacked(</span>
 192 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
 193 |     | <span class='neutral'>                aStr,</span>
 194 |     | <span class='neutral'>                &quot;&gt;&quot;,</span>
 195 |     | <span class='neutral'>                bStr,</span>
 196 |     | <span class='neutral'>                &quot; failed, reason: &quot;,</span>
 197 |     | <span class='neutral'>                reason</span>
 198 |     | <span class='neutral'>            );</span>
 199 |     | <span class='neutral'>            emit AssertLteFail(string(assertMsg));</span>
 200 |     | <span class='neutral'>            assert(false);</span>
 201 |     | <span class='neutral'>        }</span>
 202 |     | <span class='neutral'>    }</span>
 203 |     | <span class='neutral'></span>
 204 |     | <span class='neutral'>    /// @notice asserts that a is less than b. Violations are logged using reason.</span>
 205 |     | <span class='neutral'>    function assertLt(uint256 a, uint256 b, string memory reason) internal {</span>
 206 |     | <span class='neutral'>        if (!(a &lt; b)) {</span>
 207 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 208 |     | <span class='neutral'>            string memory bStr = PropertiesLibString.toString(b);</span>
 209 |     | <span class='neutral'>            bytes memory assertMsg = abi.encodePacked(</span>
 210 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
 211 |     | <span class='neutral'>                aStr,</span>
 212 |     | <span class='neutral'>                &quot;&gt;=&quot;,</span>
 213 |     | <span class='neutral'>                bStr,</span>
 214 |     | <span class='neutral'>                &quot; failed, reason: &quot;,</span>
 215 |     | <span class='neutral'>                reason</span>
 216 |     | <span class='neutral'>            );</span>
 217 |     | <span class='neutral'>            emit AssertLtFail(string(assertMsg));</span>
 218 |     | <span class='neutral'>            assert(false);</span>
 219 |     | <span class='neutral'>        }</span>
 220 |     | <span class='neutral'>    }</span>
 221 |     | <span class='neutral'></span>
 222 |     | <span class='neutral'>    /// @notice int256 version of assertLt</span>
 223 |     | <span class='neutral'>    function assertLt(int256 a, int256 b, string memory reason) internal {</span>
 224 |     | <span class='neutral'>        if (!(a &lt; b)) {</span>
 225 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 226 |     | <span class='neutral'>            string memory bStr = PropertiesLibString.toString(b);</span>
 227 |     | <span class='neutral'>            bytes memory assertMsg = abi.encodePacked(</span>
 228 |     | <span class='neutral'>                &quot;Invalid: &quot;,</span>
 229 |     | <span class='neutral'>                aStr,</span>
 230 |     | <span class='neutral'>                &quot;&gt;=&quot;,</span>
 231 |     | <span class='neutral'>                bStr,</span>
 232 |     | <span class='neutral'>                &quot; failed, reason: &quot;,</span>
 233 |     | <span class='neutral'>                reason</span>
 234 |     | <span class='neutral'>            );</span>
 235 |     | <span class='neutral'>            emit AssertLtFail(string(assertMsg));</span>
 236 |     | <span class='neutral'>            assert(false);</span>
 237 |     | <span class='neutral'>        }</span>
 238 |     | <span class='neutral'>    }</span>
 239 |     | <span class='neutral'></span>
 240 |     | <span class='neutral'>    /// @notice Clamps value to be between low and high, both inclusive</span>
 241 |     | <span class='neutral'>    function clampBetween(</span>
 242 |     | <span class='neutral'>        uint256 value,</span>
 243 |     | <span class='neutral'>        uint256 low,</span>
 244 |     | <span class='neutral'>        uint256 high</span>
 245 |     | <span class='neutral'>    ) internal returns (uint256) {</span>
 246 |     | <span class='neutral'>        if (value &lt; low || value &gt; high) {</span>
 247 |     | <span class='neutral'>            uint ans = low + (value % (high - low + 1));</span>
 248 |     | <span class='neutral'>            string memory valueStr = PropertiesLibString.toString(value);</span>
 249 |     | <span class='neutral'>            string memory ansStr = PropertiesLibString.toString(ans);</span>
 250 |     | <span class='neutral'>            bytes memory message = abi.encodePacked(</span>
 251 |     | <span class='neutral'>                &quot;Clamping value &quot;,</span>
 252 |     | <span class='neutral'>                valueStr,</span>
 253 |     | <span class='neutral'>                &quot; to &quot;,</span>
 254 |     | <span class='neutral'>                ansStr</span>
 255 |     | <span class='neutral'>            );</span>
 256 |     | <span class='neutral'>            emit LogString(string(message));</span>
 257 |     | <span class='neutral'>            return ans;</span>
 258 |     | <span class='neutral'>        }</span>
 259 |     | <span class='neutral'>        return value;</span>
 260 |     | <span class='neutral'>    }</span>
 261 |     | <span class='neutral'></span>
 262 |     | <span class='neutral'>    /// @notice int256 version of clampBetween</span>
 263 |     | <span class='neutral'>    function clampBetween(</span>
 264 |     | <span class='neutral'>        int256 value,</span>
 265 |     | <span class='neutral'>        int256 low,</span>
 266 |     | <span class='neutral'>        int256 high</span>
 267 |     | <span class='neutral'>    ) internal returns (int256) {</span>
 268 |     | <span class='neutral'>        if (value &lt; low || value &gt; high) {</span>
 269 |     | <span class='neutral'>            int range = high - low + 1;</span>
 270 |     | <span class='neutral'>            int clamped = (value - low) % (range);</span>
 271 |     | <span class='neutral'>            if (clamped &lt; 0) clamped += range;</span>
 272 |     | <span class='neutral'>            int ans = low + clamped;</span>
 273 |     | <span class='neutral'>            string memory valueStr = PropertiesLibString.toString(value);</span>
 274 |     | <span class='neutral'>            string memory ansStr = PropertiesLibString.toString(ans);</span>
 275 |     | <span class='neutral'>            bytes memory message = abi.encodePacked(</span>
 276 |     | <span class='neutral'>                &quot;Clamping value &quot;,</span>
 277 |     | <span class='neutral'>                valueStr,</span>
 278 |     | <span class='neutral'>                &quot; to &quot;,</span>
 279 |     | <span class='neutral'>                ansStr</span>
 280 |     | <span class='neutral'>            );</span>
 281 |     | <span class='neutral'>            emit LogString(string(message));</span>
 282 |     | <span class='neutral'>            return ans;</span>
 283 |     | <span class='neutral'>        }</span>
 284 |     | <span class='neutral'>        return value;</span>
 285 |     | <span class='neutral'>    }</span>
 286 |     | <span class='neutral'></span>
 287 |     | <span class='neutral'>    /// @notice clamps a to be less than b</span>
 288 |     | <span class='neutral'>    function clampLt(uint256 a, uint256 b) internal returns (uint256) {</span>
 289 |     | <span class='neutral'>        if (!(a &lt; b)) {</span>
 290 |     | <span class='neutral'>            assertNeq(</span>
 291 |     | <span class='neutral'>                b,</span>
 292 |     | <span class='neutral'>                0,</span>
 293 |     | <span class='neutral'>                &quot;clampLt cannot clamp value a to be less than zero. Check your inputs/assumptions.&quot;</span>
 294 |     | <span class='neutral'>            );</span>
 295 |     | <span class='neutral'>            uint256 value = a % b;</span>
 296 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 297 |     | <span class='neutral'>            string memory valueStr = PropertiesLibString.toString(value);</span>
 298 |     | <span class='neutral'>            bytes memory message = abi.encodePacked(</span>
 299 |     | <span class='neutral'>                &quot;Clamping value &quot;,</span>
 300 |     | <span class='neutral'>                aStr,</span>
 301 |     | <span class='neutral'>                &quot; to &quot;,</span>
 302 |     | <span class='neutral'>                valueStr</span>
 303 |     | <span class='neutral'>            );</span>
 304 |     | <span class='neutral'>            emit LogString(string(message));</span>
 305 |     | <span class='neutral'>            return value;</span>
 306 |     | <span class='neutral'>        }</span>
 307 |     | <span class='neutral'>        return a;</span>
 308 |     | <span class='neutral'>    }</span>
 309 |     | <span class='neutral'></span>
 310 |     | <span class='neutral'>    /// @notice int256 version of clampLt</span>
 311 |     | <span class='neutral'>    function clampLt(int256 a, int256 b) internal returns (int256) {</span>
 312 |     | <span class='neutral'>        if (!(a &lt; b)) {</span>
 313 |     | <span class='neutral'>            int256 value = b - 1;</span>
 314 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 315 |     | <span class='neutral'>            string memory valueStr = PropertiesLibString.toString(value);</span>
 316 |     | <span class='neutral'>            bytes memory message = abi.encodePacked(</span>
 317 |     | <span class='neutral'>                &quot;Clamping value &quot;,</span>
 318 |     | <span class='neutral'>                aStr,</span>
 319 |     | <span class='neutral'>                &quot; to &quot;,</span>
 320 |     | <span class='neutral'>                valueStr</span>
 321 |     | <span class='neutral'>            );</span>
 322 |     | <span class='neutral'>            emit LogString(string(message));</span>
 323 |     | <span class='neutral'>            return value;</span>
 324 |     | <span class='neutral'>        }</span>
 325 |     | <span class='neutral'>        return a;</span>
 326 |     | <span class='neutral'>    }</span>
 327 |     | <span class='neutral'></span>
 328 |     | <span class='neutral'>    /// @notice clamps a to be less than or equal to b</span>
 329 |     | <span class='neutral'>    function clampLte(uint256 a, uint256 b) internal returns (uint256) {</span>
 330 |     | <span class='neutral'>        if (!(a &lt;= b)) {</span>
 331 |     | <span class='neutral'>            uint256 value = a % (b + 1);</span>
 332 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 333 |     | <span class='neutral'>            string memory valueStr = PropertiesLibString.toString(value);</span>
 334 |     | <span class='neutral'>            bytes memory message = abi.encodePacked(</span>
 335 |     | <span class='neutral'>                &quot;Clamping value &quot;,</span>
 336 |     | <span class='neutral'>                aStr,</span>
 337 |     | <span class='neutral'>                &quot; to &quot;,</span>
 338 |     | <span class='neutral'>                valueStr</span>
 339 |     | <span class='neutral'>            );</span>
 340 |     | <span class='neutral'>            emit LogString(string(message));</span>
 341 |     | <span class='neutral'>            return value;</span>
 342 |     | <span class='neutral'>        }</span>
 343 |     | <span class='neutral'>        return a;</span>
 344 |     | <span class='neutral'>    }</span>
 345 |     | <span class='neutral'></span>
 346 |     | <span class='neutral'>    /// @notice int256 version of clampLte</span>
 347 |     | <span class='neutral'>    function clampLte(int256 a, int256 b) internal returns (int256) {</span>
 348 |     | <span class='neutral'>        if (!(a &lt;= b)) {</span>
 349 |     | <span class='neutral'>            int256 value = b;</span>
 350 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 351 |     | <span class='neutral'>            string memory valueStr = PropertiesLibString.toString(value);</span>
 352 |     | <span class='neutral'>            bytes memory message = abi.encodePacked(</span>
 353 |     | <span class='neutral'>                &quot;Clamping value &quot;,</span>
 354 |     | <span class='neutral'>                aStr,</span>
 355 |     | <span class='neutral'>                &quot; to &quot;,</span>
 356 |     | <span class='neutral'>                valueStr</span>
 357 |     | <span class='neutral'>            );</span>
 358 |     | <span class='neutral'>            emit LogString(string(message));</span>
 359 |     | <span class='neutral'>            return value;</span>
 360 |     | <span class='neutral'>        }</span>
 361 |     | <span class='neutral'>        return a;</span>
 362 |     | <span class='neutral'>    }</span>
 363 |     | <span class='neutral'></span>
 364 |     | <span class='neutral'>    /// @notice clamps a to be greater than b</span>
 365 |     | <span class='neutral'>    function clampGt(uint256 a, uint256 b) internal returns (uint256) {</span>
 366 |     | <span class='neutral'>        if (!(a &gt; b)) {</span>
 367 |     | <span class='neutral'>            assertNeq(</span>
 368 |     | <span class='neutral'>                b,</span>
 369 |     | <span class='neutral'>                type(uint256).max,</span>
 370 |     | <span class='neutral'>                &quot;clampGt cannot clamp value a to be larger than uint256.max. Check your inputs/assumptions.&quot;</span>
 371 |     | <span class='neutral'>            );</span>
 372 |     | <span class='neutral'>            uint256 value = b + 1;</span>
 373 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 374 |     | <span class='neutral'>            string memory valueStr = PropertiesLibString.toString(value);</span>
 375 |     | <span class='neutral'>            bytes memory message = abi.encodePacked(</span>
 376 |     | <span class='neutral'>                &quot;Clamping value &quot;,</span>
 377 |     | <span class='neutral'>                aStr,</span>
 378 |     | <span class='neutral'>                &quot; to &quot;,</span>
 379 |     | <span class='neutral'>                valueStr</span>
 380 |     | <span class='neutral'>            );</span>
 381 |     | <span class='neutral'>            emit LogString(string(message));</span>
 382 |     | <span class='neutral'>            return value;</span>
 383 |     | <span class='neutral'>        } else {</span>
 384 |     | <span class='neutral'>            return a;</span>
 385 |     | <span class='neutral'>        }</span>
 386 |     | <span class='neutral'>    }</span>
 387 |     | <span class='neutral'></span>
 388 |     | <span class='neutral'>    /// @notice int256 version of clampGt</span>
 389 |     | <span class='neutral'>    function clampGt(int256 a, int256 b) internal returns (int256) {</span>
 390 |     | <span class='neutral'>        if (!(a &gt; b)) {</span>
 391 |     | <span class='neutral'>            int256 value = b + 1;</span>
 392 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 393 |     | <span class='neutral'>            string memory valueStr = PropertiesLibString.toString(value);</span>
 394 |     | <span class='neutral'>            bytes memory message = abi.encodePacked(</span>
 395 |     | <span class='neutral'>                &quot;Clamping value &quot;,</span>
 396 |     | <span class='neutral'>                aStr,</span>
 397 |     | <span class='neutral'>                &quot; to &quot;,</span>
 398 |     | <span class='neutral'>                valueStr</span>
 399 |     | <span class='neutral'>            );</span>
 400 |     | <span class='neutral'>            emit LogString(string(message));</span>
 401 |     | <span class='neutral'>            return value;</span>
 402 |     | <span class='neutral'>        } else {</span>
 403 |     | <span class='neutral'>            return a;</span>
 404 |     | <span class='neutral'>        }</span>
 405 |     | <span class='neutral'>    }</span>
 406 |     | <span class='neutral'></span>
 407 |     | <span class='neutral'>    /// @notice clamps a to be greater than or equal to b</span>
 408 |     | <span class='neutral'>    function clampGte(uint256 a, uint256 b) internal returns (uint256) {</span>
 409 |     | <span class='neutral'>        if (!(a &gt; b)) {</span>
 410 |     | <span class='neutral'>            uint256 value = b;</span>
 411 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 412 |     | <span class='neutral'>            string memory valueStr = PropertiesLibString.toString(value);</span>
 413 |     | <span class='neutral'>            bytes memory message = abi.encodePacked(</span>
 414 |     | <span class='neutral'>                &quot;Clamping value &quot;,</span>
 415 |     | <span class='neutral'>                aStr,</span>
 416 |     | <span class='neutral'>                &quot; to &quot;,</span>
 417 |     | <span class='neutral'>                valueStr</span>
 418 |     | <span class='neutral'>            );</span>
 419 |     | <span class='neutral'>            emit LogString(string(message));</span>
 420 |     | <span class='neutral'>            return value;</span>
 421 |     | <span class='neutral'>        }</span>
 422 |     | <span class='neutral'>        return a;</span>
 423 |     | <span class='neutral'>    }</span>
 424 |     | <span class='neutral'></span>
 425 |     | <span class='neutral'>    /// @notice int256 version of clampGte</span>
 426 |     | <span class='neutral'>    function clampGte(int256 a, int256 b) internal returns (int256) {</span>
 427 |     | <span class='neutral'>        if (!(a &gt; b)) {</span>
 428 |     | <span class='neutral'>            int256 value = b;</span>
 429 |     | <span class='neutral'>            string memory aStr = PropertiesLibString.toString(a);</span>
 430 |     | <span class='neutral'>            string memory valueStr = PropertiesLibString.toString(value);</span>
 431 |     | <span class='neutral'>            bytes memory message = abi.encodePacked(</span>
 432 |     | <span class='neutral'>                &quot;Clamping value &quot;,</span>
 433 |     | <span class='neutral'>                aStr,</span>
 434 |     | <span class='neutral'>                &quot; to &quot;,</span>
 435 |     | <span class='neutral'>                valueStr</span>
 436 |     | <span class='neutral'>            );</span>
 437 |     | <span class='neutral'>            emit LogString(string(message));</span>
 438 |     | <span class='neutral'>            return value;</span>
 439 |     | <span class='neutral'>        }</span>
 440 |     | <span class='neutral'>        return a;</span>
 441 |     | <span class='neutral'>    }</span>
 442 |     | <span class='neutral'>}</span>
 443 |     | <span class='neutral'></span>
 444 |     | <span class='neutral'>/// @notice Efficient library for creating string representations of integers.</span>
 445 |     | <span class='neutral'>/// @author Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/LibString.sol)</span>
 446 |     | <span class='neutral'>/// @author Modified from Solady (https://github.com/Vectorized/solady/blob/main/src/utils/LibString.sol)</span>
 447 |     | <span class='neutral'>/// @dev Name of the library is modified to prevent collisions with contract-under-test uses of LibString</span>
 448 |     | <span class='unexecuted'>library PropertiesLibString {</span>
 449 |     | <span class='neutral'>    function toString(int256 value) internal pure returns (string memory str) {</span>
 450 |     | <span class='neutral'>        uint256 absValue = value &gt;= 0 ? uint256(value) : uint256(-value);</span>
 451 |     | <span class='neutral'>        str = toString(absValue);</span>
 452 |     | <span class='neutral'></span>
 453 |     | <span class='neutral'>        if (value &lt; 0) {</span>
 454 |     | <span class='neutral'>            str = string(abi.encodePacked(&quot;-&quot;, str));</span>
 455 |     | <span class='neutral'>        }</span>
 456 |     | <span class='neutral'>    }</span>
 457 |     | <span class='neutral'></span>
 458 | *   | <span class='executed'>    function toString(uint256 value) internal pure returns (string memory str) {</span>
 459 |     | <span class='neutral'>        /// @solidity memory-safe-assembly</span>
 460 |     | <span class='neutral'>        assembly {</span>
 461 |     | <span class='neutral'>            // The maximum value of a uint256 contains 78 digits (1 byte per digit), but we allocate 160 bytes</span>
 462 |     | <span class='neutral'>            // to keep the free memory pointer word aligned. We&#39;ll need 1 word for the length, 1 word for the</span>
 463 |     | <span class='neutral'>            // trailing zeros padding, and 3 other words for a max of 78 digits. In total: 5 * 32 = 160 bytes.</span>
 464 | *   | <span class='executed'>            let newFreeMemoryPointer := add(mload(0x40), 160)</span>
 465 |     | <span class='neutral'></span>
 466 |     | <span class='neutral'>            // Update the free memory pointer to avoid overriding our string.</span>
 467 | *   | <span class='executed'>            mstore(0x40, newFreeMemoryPointer)</span>
 468 |     | <span class='neutral'></span>
 469 |     | <span class='neutral'>            // Assign str to the end of the zone of newly allocated memory.</span>
 470 | *   | <span class='executed'>            str := sub(newFreeMemoryPointer, 32)</span>
 471 |     | <span class='neutral'></span>
 472 |     | <span class='neutral'>            // Clean the last word of memory it may not be overwritten.</span>
 473 | *   | <span class='executed'>            mstore(str, 0)</span>
 474 |     | <span class='neutral'></span>
 475 |     | <span class='neutral'>            // Cache the end of the memory to calculate the length later.</span>
 476 | *   | <span class='executed'>            let end := str</span>
 477 |     | <span class='neutral'></span>
 478 |     | <span class='neutral'>            // We write the string from rightmost digit to leftmost digit.</span>
 479 |     | <span class='neutral'>            // The following is essentially a do-while loop that also handles the zero case.</span>
 480 |     | <span class='neutral'>            // prettier-ignore</span>
 481 | *   | <span class='executed'>            for { let temp := value } 1 {} {</span>
 482 |     | <span class='neutral'>                // Move the pointer 1 byte to the left.</span>
 483 | *   | <span class='executed'>                str := sub(str, 1)</span>
 484 |     | <span class='neutral'></span>
 485 |     | <span class='neutral'>                // Write the character to the pointer.</span>
 486 |     | <span class='neutral'>                // The ASCII index of the &#39;0&#39; character is 48.</span>
 487 | *   | <span class='executed'>                mstore8(str, add(48, mod(temp, 10)))</span>
 488 |     | <span class='neutral'></span>
 489 |     | <span class='neutral'>                // Keep dividing temp until zero.</span>
 490 | *   | <span class='executed'>                temp := div(temp, 10)</span>
 491 |     | <span class='neutral'></span>
 492 |     | <span class='neutral'>                 // prettier-ignore</span>
 493 | *   | <span class='executed'>                if iszero(temp) { break }</span>
 494 |     | <span class='neutral'>            }</span>
 495 |     | <span class='neutral'></span>
 496 |     | <span class='neutral'>            // Compute and cache the final total length of the string.</span>
 497 | *   | <span class='executed'>            let length := sub(end, str)</span>
 498 |     | <span class='neutral'></span>
 499 |     | <span class='neutral'>            // Move the pointer 32 bytes leftwards to make room for the length.</span>
 500 | *   | <span class='executed'>            str := sub(str, 32)</span>
 501 |     | <span class='neutral'></span>
 502 |     | <span class='neutral'>            // Store the string&#39;s length at the start of memory allocated for our string.</span>
 503 | *   | <span class='executed'>            mstore(str, length)</span>
 504 |     | <span class='neutral'>        }</span>
 505 |     | <span class='neutral'>    }</span>
 506 |     | <span class='neutral'></span>
 507 |     | <span class='neutral'>    function toString(address value) internal pure returns (string memory str) {</span>
 508 |     | <span class='neutral'>        bytes memory s = new bytes(40);</span>
 509 |     | <span class='neutral'>        for (uint i = 0; i &lt; 20; i++) {</span>
 510 |     | <span class='neutral'>            bytes1 b = bytes1(</span>
 511 |     | <span class='neutral'>                uint8(uint(uint160(value)) / (2 ** (8 * (19 - i))))</span>
 512 |     | <span class='neutral'>            );</span>
 513 |     | <span class='neutral'>            bytes1 hi = bytes1(uint8(b) / 16);</span>
 514 |     | <span class='neutral'>            bytes1 lo = bytes1(uint8(b) - 16 * uint8(hi));</span>
 515 |     | <span class='neutral'>            s[2 * i] = char(hi);</span>
 516 |     | <span class='neutral'>            s[2 * i + 1] = char(lo);</span>
 517 |     | <span class='neutral'>        }</span>
 518 |     | <span class='neutral'>        return string(s);</span>
 519 |     | <span class='neutral'>    }</span>
 520 |     | <span class='neutral'></span>
 521 |     | <span class='neutral'>    function char(bytes1 b) internal pure returns (bytes1 c) {</span>
 522 |     | <span class='neutral'>        if (uint8(b) &lt; 10) return bytes1(uint8(b) + 0x30);</span>
 523 |     | <span class='neutral'>        else return bytes1(uint8(b) + 0x57);</span>
 524 |     | <span class='neutral'>    }</span>
 525 |     | <span class='neutral'>}</span>
 526 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/src/MyToken.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// Compatible with OpenZeppelin Contracts ^5.0.0</span>
  3 |     | <span class='neutral'>pragma solidity ^0.8.22;</span>
  4 |     | <span class='neutral'></span>
  5 |     | <span class='neutral'>import {ERC20} from &quot;@openzeppelin/contracts/token/ERC20/ERC20.sol&quot;;</span>
  6 |     | <span class='neutral'>import {ERC20Burnable} from &quot;@openzeppelin/contracts/token/ERC20/extensions/ERC20Burnable.sol&quot;;</span>
  7 |     | <span class='neutral'>import {Ownable} from &quot;@openzeppelin/contracts/access/Ownable.sol&quot;;</span>
  8 |     | <span class='neutral'></span>
  9 |     | <span class='unexecuted'>contract MyToken is ERC20, ERC20Burnable {</span>
 10 |     | <span class='unexecuted'>    constructor() ERC20(&quot;MyToken&quot;, &quot;MTK&quot;) {}</span>
 11 |     | <span class='neutral'></span>
 12 | *   | <span class='executed'>    function mint(address to, uint256 amount) public virtual {</span>
 13 | *   | <span class='executed'>        _mint(to, amount);</span>
 14 |     | <span class='neutral'>    }</span>
 15 |     | <span class='neutral'></span>
 16 |     | <span class='neutral'>    // override функцию, чтобы сломать свойство burnable</span>
 17 | *   | <span class='executed'>    function burnFrom(</span>
 18 |     | <span class='neutral'>        address account,</span>
 19 |     | <span class='neutral'>        uint256 value</span>
 20 |     | <span class='neutral'>    ) public virtual override(ERC20Burnable) {</span>
 21 |     | <span class='neutral'>        // Не уменьшаем allowance</span>
 22 | *   | <span class='executed'>        _burn(account, value);</span>
 23 |     | <span class='neutral'>    }</span>
 24 |     | <span class='neutral'>}</span>
 25 |     | <span class='neutral'></span>

</code>
<br />

<b>/Users/bogdanlukancuk/web3/homework/hw_4/test/MyTokenExternal.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// Compatible with OpenZeppelin Contracts ^5.0.0</span>
  3 |     | <span class='neutral'>pragma solidity ^0.8.0;</span>
  4 |     | <span class='neutral'></span>
  5 |     | <span class='neutral'>import &quot;../src/MyToken.sol&quot;;</span>
  6 |     | <span class='neutral'>import {ITokenMock} from &quot;lib/properties/contracts/ERC20/external/util/ITokenMock.sol&quot;;</span>
  7 |     | <span class='neutral'>import {CryticERC20ExternalBasicProperties} from &quot;lib/properties/contracts/ERC20/external/properties/ERC20ExternalBasicProperties.sol&quot;;</span>
  8 |     | <span class='neutral'>import {CryticERC20ExternalBurnableProperties} from &quot;lib/properties/contracts/ERC20/external/properties/ERC20ExternalBurnableProperties.sol&quot;;</span>
  9 |     | <span class='neutral'>import {CryticERC20ExternalMintableProperties} from &quot;lib/properties/contracts/ERC20/external/properties/ERC20ExternalMintableProperties.sol&quot;;</span>
 10 |     | <span class='neutral'>import {PropertiesConstants} from &quot;lib/properties/contracts/util/PropertiesConstants.sol&quot;;</span>
 11 |     | <span class='neutral'></span>
 12 | *r  | <span class='executed'>contract MyTokenERC20ExternalHarness is</span>
 13 |     | <span class='neutral'>    CryticERC20ExternalBasicProperties,</span>
 14 |     | <span class='neutral'>    CryticERC20ExternalBurnableProperties,</span>
 15 |     | <span class='neutral'>    CryticERC20ExternalMintableProperties</span>
 16 |     | <span class='neutral'>{</span>
 17 | *   | <span class='executed'>    constructor() {</span>
 18 | *   | <span class='executed'>        token = ITokenMock(address(new MyTokenMock(true)));</span>
 19 |     | <span class='neutral'>    }</span>
 20 |     | <span class='neutral'>}</span>
 21 | *r  | <span class='executed'>contract MyTokenMock is MyToken, PropertiesConstants {</span>
 22 | *   | <span class='executed'>    bool public isMintableOrBurnable;</span>
 23 | *   | <span class='executed'>    uint256 public initialSupply;</span>
 24 |     | <span class='neutral'></span>
 25 | *   | <span class='executed'>    constructor(bool _isMintableOrBurnable) {</span>
 26 | *   | <span class='executed'>        _mint(USER1, INITIAL_BALANCE);</span>
 27 | *   | <span class='executed'>        _mint(USER2, INITIAL_BALANCE);</span>
 28 | *   | <span class='executed'>        _mint(USER3, INITIAL_BALANCE);</span>
 29 | *   | <span class='executed'>        _mint(msg.sender, INITIAL_BALANCE);</span>
 30 |     | <span class='neutral'></span>
 31 | *   | <span class='executed'>        initialSupply = totalSupply();</span>
 32 | *   | <span class='executed'>        isMintableOrBurnable = _isMintableOrBurnable;</span>
 33 |     | <span class='neutral'>    }</span>
 34 |     | <span class='neutral'>}</span>
 35 |     | <span class='neutral'></span>

</code>
<br />

